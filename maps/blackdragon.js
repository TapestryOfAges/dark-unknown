"use strict";

// MAP BEGINS HERE
mappages["blackdragon"] = {};
mappages["blackdragon"].terrain = [];
 mappages["blackdragon"].terrain[0] = '.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. nn nn nn nn nn nn nn nn nn nn';
 mappages["blackdragon"].terrain[1] = '.. .. .. .. __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ nn nn nn nn nn nn';
 mappages["blackdragon"].terrain[2] = '.. .. .. ./ uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["blackdragon"].terrain[3] = '.. .. .| uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["blackdragon"].terrain[4] = '.. .. .| uu uu uu /. -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -, -- nn nn nn';
 mappages["blackdragon"].terrain[5] = '.. .. .| uu uu /. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. ,, ,, .. nn';
 mappages["blackdragon"].terrain[6] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, ,, .. .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon"].terrain[7] = '.. .. .| uu uu |. .. .. .. .. .. .. u, .. .. .. u, .. ., ., ., .. .. ## ## ## ## ## ## ## ## ## ## .. .. ,, .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon"].terrain[8] = '.. .. .| uu uu |. .. .. .. .. .. u, .. .. ,, .. .. ,, ., ., ., .. .. ## ## +m +m +m +m +m +m +m ## .. .. .. .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon"].terrain[9] = '.. .. .| uu uu |. .. .. .. .. .. .. .. ,, u, .. .. .. .. .. .. .. .. ## ## +m +m +m +m +m +m +m ## ## ## ## ## ## ## ## ## ## ## .. ..';
mappages["blackdragon"].terrain[10] = '.. .. .| uu uu |. .. .. .. .. .. ,, .. __ .. .. .. ,, .. ,, .. .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[11] = '.. .. .| uu uu |. .. .. .. .. .. .. ./ us `. ,, .. .. .. .. ,, .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[12] = '.. .. .| uu uu |. .. .. .. .. .. .. .` us /. .. .. .. ,, .. .. .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[13] = '.. .. .| uu uu |. .. .. .. .. .. .. .. -, .. .. u, .. .. ,, u, .. .. ## ## ## ## ## ## +t ## ## ## +t +t +t +t +t +t +t +t +t ## .. ,,';
mappages["blackdragon"].terrain[14] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. .. .. ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[15] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. ## f# +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[16] = '.. .. .| uu uu |. .. ## #+ ## ## ## ## ## ## #O ## +t ## #O ## ## ## ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[17] = '.. .. .| uu uu |. .. ## +t ## ## f# +t +t +t +t ## +t ## +t +t +t +t f# ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[18] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t +t +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon"].terrain[19] = '.. .. .| uu uu |. .. #+ +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t ## ## ## ## ## ## ## ## ## ## ## ## +t +t +t +t ## ## ## ## .. ..';
mappages["blackdragon"].terrain[20] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## ## ## ## ## ## ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .. ..';
mappages["blackdragon"].terrain[21] = '.. .. .| uu uu |. .. ## +t ## ## ## ## ## ## ## ## +t ## +t +t +t +t ## ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .. ./';
mappages["blackdragon"].terrain[22] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t f# ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu';
mappages["blackdragon"].terrain[23] = '.. .. .| uu uu |. .. #+ +t ## ## f# +t +t +t +t +t +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t ## ## ## ## ## ## ## .. .. .. ./ uu';
mappages["blackdragon"].terrain[24] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t ## ## +t +t +t +t ## +t +t +t ## f# ## f# ## .. ,, .. .. .| uu uu';
mappages["blackdragon"].terrain[25] = '.. .. .| uu uu |. .. ## +t ## ## ## ## ## ## ## ## +t ## ## ## ## ## ## ## ## ## ## ## ## +t +t +t ## +t +t +t ## .. .. .. .. .| uu uu';
mappages["blackdragon"].terrain[26] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## .. .. .. .. .| uu uu';
mappages["blackdragon"].terrain[27] = '.. .. .| uu uu |. .. ## +t +t ## ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## .. .. .. .. ./ uu uu';
mappages["blackdragon"].terrain[28] = '.. .. .| uu uu |. .. ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## ,, ,, .. .| uu uu uu';
mappages["blackdragon"].terrain[29] = '.. .. .| uu uu |. .. #+ +t ## #+ ## +t ## #+ ## ## ## ## ## ## ## +t ## ## ## ## ## ## ## +t ## ## ## ## ## +t ## ## .. .. .| uu uu uu';
mappages["blackdragon"].terrain[30] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .| uu uu uu';
mappages["blackdragon"].terrain[31] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t +t +t +t +t +t +t +t f# ## +t +t +t +t +t +t +t +t +t +t ## .. .. .| uu uu uu';
mappages["blackdragon"].terrain[32] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## ,, .. .. .` uu uu';
mappages["blackdragon"].terrain[33] = '.. .. .| uu uu |. .. #+ +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## f# +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon"].terrain[34] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon"].terrain[35] = '.. .. .| uu uu |. .. ## #+ ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon"].terrain[36] = '.. .. .| uu uu |. .. .. .. ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## ## ## ## ## ## ## ## ## ## ## ## .. ,, .. .| uu uu';
mappages["blackdragon"].terrain[37] = '.. .. .| uu uu |. .. .. .. ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ,, ,, .. .. .. .. .. .. .. .. .. .. .. .. .. ./ uu uu';
mappages["blackdragon"].terrain[38] = '.. .. .| uu uu |. .. .. .. ## ## ## +t ## ## ## ## #+ ## ## ## ## #+ ## ## ## ## .. .. .. .. .. ,, .. .. ,, .. .. .. .. .. .| uu uu uu';
mappages["blackdragon"].terrain[39] = '.. .. .| uu uu |. .. .. .. .. .. f! f! f! .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .| uu uu uu';
mappages["blackdragon"].terrain[40] = '.. .. .| uu uu `. __ __ __ __ __ f! f! f! __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ .. .. .. .. .. ./ uu uu uu';
mappages["blackdragon"].terrain[41] = '.. .. .| uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu `. __ .. .. .. uu uu uu uu';
mappages["blackdragon"].terrain[42] = '.. .. .. .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu `. __ ./ uu uu uu uu';
mappages["blackdragon"].terrain[43] = '.. .. .. .. -- -- -- -- -- -- -- f! f! f! -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- .` uu uu uu uu uu uu uu uu uu';
mappages["blackdragon"].terrain[44] = '.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu';

mappages["blackdragon"].features = [];
mappages["blackdragon"].features[0] = {name : 'Doorway', x : 12, y : 29};
mappages["blackdragon"].features[1] = {name : 'Door', x : 22, y : 29, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[2] = {name : 'Door', x : 19, y : 31, desc : "locked door", locked : 1};
mappages["blackdragon"].features[3] = {name : 'BDCLever', x : 11, y : 39};
mappages["blackdragon"].features[4] = {name : 'BedHead', x : 20, y : 32};
mappages["blackdragon"].features[5] = {name : 'BedHead', x : 20, y : 34};
mappages["blackdragon"].features[6] = {name : 'BedHead', x : 20, y : 36};
mappages["blackdragon"].features[7] = {name : 'BedFoot', x : 21, y : 32};
mappages["blackdragon"].features[8] = {name : 'BedFoot', x : 21, y : 34};
mappages["blackdragon"].features[9] = {name : 'BedFoot', x : 21, y : 36};
mappages["blackdragon"].features[10] = {name : 'BedHead', x : 24, y : 32};
mappages["blackdragon"].features[11] = {name : 'BedHead', x : 24, y : 34};
mappages["blackdragon"].features[12] = {name : 'BedHead', x : 24, y : 36};
mappages["blackdragon"].features[13] = {name : 'BedFoot', x : 25, y : 32};
mappages["blackdragon"].features[14] = {name : 'BedFoot', x : 25, y : 34};
mappages["blackdragon"].features[15] = {name : 'BedFoot', x : 25, y : 36};
mappages["blackdragon"].features[16] = {name : 'Door', x : 17, y : 25};
mappages["blackdragon"].features[17] = {name : 'Door', x : 18, y : 23, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[18] = {name : 'Door', x : 16, y : 23, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[19] = {name : 'Door', x : 16, y : 18, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[20] = {name : 'Door', x : 18, y : 18, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[21] = {name : 'BedHead', x : 21, y : 24};
mappages["blackdragon"].features[22] = {name : 'BedHead', x : 12, y : 24};
mappages["blackdragon"].features[23] = {name : 'BedHead', x : 12, y : 20};
mappages["blackdragon"].features[24] = {name : 'BedFoot', x : 22, y : 24};
mappages["blackdragon"].features[25] = {name : 'BedFoot', x : 13, y : 24};
mappages["blackdragon"].features[26] = {name : 'BedFoot', x : 13, y : 20};
mappages["blackdragon"].features[27] = {name : 'Mirror', x : 22, y : 21};
mappages["blackdragon"].features[28] = {name : 'Mirror', x : 14, y : 22};
mappages["blackdragon"].features[29] = {name : 'Mirror', x : 13, y : 17};
mappages["blackdragon"].features[30] = {name : 'Mirror', x : 20, y : 17};
mappages["blackdragon"].features[31] = {name : 'BookshelfLeft', x : 19, y : 21};
mappages["blackdragon"].features[32] = {name : 'BookshelfRight', x : 20, y : 21};
mappages["blackdragon"].features[33] = {name : 'BookshelfOne', x : 19, y : 19};
mappages["blackdragon"].features[34] = {name : 'BookshelfOne', x : 15, y : 20};
mappages["blackdragon"].features[35] = {name : 'BookshelfOne', x : 12, y : 22};
mappages["blackdragon"].features[36] = {name : 'DoorWindow', x : 17, y : 16};
mappages["blackdragon"].features[37] = {name : 'DoorWindow', x : 30, y : 29};
mappages["blackdragon"].features[38] = {name : 'LeftTable', x : 28, y : 31};
mappages["blackdragon"].features[39] = {name : 'LeftTable', x : 32, y : 31};
mappages["blackdragon"].features[40] = {name : 'MiddleTable', x : 29, y : 31};
mappages["blackdragon"].features[41] = {name : 'MiddleTable', x : 33, y : 31};
mappages["blackdragon"].features[42] = {name : 'MiddleTable', x : 34, y : 31};
mappages["blackdragon"].features[43] = {name : 'RightTable', x : 30, y : 31};
mappages["blackdragon"].features[44] = {name : 'RightTable', x : 35, y : 31};
mappages["blackdragon"].features[45] = {name : 'LeftTable', x : 28, y : 34};
mappages["blackdragon"].features[46] = {name : 'LeftTable', x : 32, y : 34};
mappages["blackdragon"].features[47] = {name : 'MiddleTable', x : 29, y : 34};
mappages["blackdragon"].features[48] = {name : 'MiddleTable', x : 33, y : 34};
mappages["blackdragon"].features[49] = {name : 'MiddleTable', x : 34, y : 34};
mappages["blackdragon"].features[50] = {name : 'RightTable', x : 35, y : 34};
mappages["blackdragon"].features[51] = {name : 'RightTable', x : 30, y : 34};
mappages["blackdragon"].features[52] = {name : 'BottomChair', x : 28, y : 32};
mappages["blackdragon"].features[53] = {name : 'BottomChair', x : 30, y : 32};
mappages["blackdragon"].features[54] = {name : 'BottomChair', x : 28, y : 35};
mappages["blackdragon"].features[55] = {name : 'BottomChair', x : 30, y : 35};
mappages["blackdragon"].features[56] = {name : 'BottomChair', x : 32, y : 35};
mappages["blackdragon"].features[57] = {name : 'BottomChair', x : 34, y : 35};
mappages["blackdragon"].features[58] = {name : 'TopChair', x : 29, y : 30};
mappages["blackdragon"].features[59] = {name : 'TopChair', x : 33, y : 30};
mappages["blackdragon"].features[60] = {name : 'TopChair', x : 35, y : 30};
mappages["blackdragon"].features[61] = {name : 'TopChair', x : 33, y : 33};
mappages["blackdragon"].features[62] = {name : 'TopChair', x : 35, y : 33};
mappages["blackdragon"].features[63] = {name : 'BottomChair', x : 34, y : 32};
mappages["blackdragon"].features[64] = {name : 'BottomChair', x : 32, y : 32};
mappages["blackdragon"].features[65] = {name : 'TopChair', x : 29, y : 33};
mappages["blackdragon"].features[66] = {name : 'DoorWindow', x : 36, y : 29};
mappages["blackdragon"].features[67] = {name : 'LeftTable', x : 34, y : 26};
mappages["blackdragon"].features[68] = {name : 'RightTable', x : 35, y : 26};
mappages["blackdragon"].features[69] = {name : 'Door', x : 29, y : 23};
mappages["blackdragon"].features[70] = {name : 'Door', x : 11, y : 28, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[71] = {name : 'BDThrone', x : 37, y : 11};
mappages["blackdragon"].features[72] = {name : 'Door', x : 32, y : 17, desc : "magically locked door", locked : 2, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[73] = {name : 'PentagramSW', x : 25, y : 12};
mappages["blackdragon"].features[74] = {name : 'PentagramS', x : 26, y : 12};
mappages["blackdragon"].features[75] = {name : 'PentagramSE', x : 27, y : 12};
mappages["blackdragon"].features[76] = {name : 'PentagramE', x : 27, y : 11};
mappages["blackdragon"].features[77] = {name : 'PentagramC', x : 26, y : 11};
mappages["blackdragon"].features[78] = {name : 'PentagramW', x : 25, y : 11};
mappages["blackdragon"].features[79] = {name : 'PentagramN', x : 26, y : 10};
mappages["blackdragon"].features[80] = {name : 'PentagramNW', x : 25, y : 10};
mappages["blackdragon"].features[81] = {name : 'PentagramNE', x : 27, y : 10};
mappages["blackdragon"].features[82] = {name : 'BookshelfLeft', x : 25, y : 8};
mappages["blackdragon"].features[83] = {name : 'BookshelfLeft', x : 27, y : 8};
mappages["blackdragon"].features[84] = {name : 'BookshelfLeft', x : 29, y : 8, lootedid : 'lancenotes', searchyield : 'LanceRuneNotes'};
mappages["blackdragon"].features[85] = {name : 'BookshelfRight', x : 26, y : 8};
mappages["blackdragon"].features[86] = {name : 'BookshelfRight', x : 28, y : 8};
mappages["blackdragon"].features[87] = {name : 'BookshelfRight', x : 30, y : 8};
mappages["blackdragon"].features[88] = {name : 'Mirror', x : 31, y : 8};
mappages["blackdragon"].features[89] = {name : 'Door', x : 29, y : 13, desc : "magically locked door", locked : 2, keyname : "BlackDragonKey"};
mappages["blackdragon"].features[90] = {name : 'Mirror', x : 30, y : 14};
mappages["blackdragon"].features[91] = {name : 'RightChair', x : 31, y : 18};
mappages["blackdragon"].features[92] = {name : 'RightTable', x : 30, y : 18};
mappages["blackdragon"].features[93] = {name : 'LeftTable', x : 29, y : 18};
mappages["blackdragon"].features[94] = {name : 'LeftTable', x : 25, y : 21};
mappages["blackdragon"].features[95] = {name : 'MiddleTable', x : 26, y : 21};
mappages["blackdragon"].features[96] = {name : 'RightTable', x : 27, y : 21};
mappages["blackdragon"].features[97] = {name : 'BDCLever', x : 9, y : 27};
mappages["blackdragon"].features[98] = {name : 'BookshelfLeft', x : 25, y : 24};
mappages["blackdragon"].features[99] = {name : 'BookshelfRight', x : 26, y : 24};
mappages["blackdragon"].features[100] = {name : 'BookshelfRight', x : 28, y : 24};
mappages["blackdragon"].features[101] = {name : 'BookshelfLeft', x : 27, y : 24};
mappages["blackdragon"].features[102] = {name : 'TopChair', x : 26, y : 20};
mappages["blackdragon"].features[103] = {name : 'SmallBox', x : 20, y : 37};
mappages["blackdragon"].features[104] = {name : 'SmallBox', x : 20, y : 35};
mappages["blackdragon"].features[105] = {name : 'SmallBox', x : 20, y : 33};
mappages["blackdragon"].features[106] = {name : 'SmallBox', x : 25, y : 33};
mappages["blackdragon"].features[107] = {name : 'SmallBox', x : 25, y : 35};
mappages["blackdragon"].features[108] = {name : 'SmallBox', x : 25, y : 37};
mappages["blackdragon"].features[109] = {name : 'Chest', x : 17, y : 30};
mappages["blackdragon"].features[110] = {name : 'Chest', x : 16, y : 30};
mappages["blackdragon"].features[111] = {name : 'Chest', x : 16, y : 31};
mappages["blackdragon"].features[112] = {name : 'Chest', x : 16, y : 36};
mappages["blackdragon"].features[113] = {name : 'Chest', x : 16, y : 37};
mappages["blackdragon"].features[114] = {name : 'Chest', x : 17, y : 37};
mappages["blackdragon"].features[115] = {name : 'BedHead', x : 25, y : 17};
mappages["blackdragon"].features[116] = {name : 'BedFoot', x : 26, y : 17};
mappages["blackdragon"].features[117] = {name : 'WallPortcullis', x : 12, y : 38, locked : 1};
mappages["blackdragon"].features[118] = {name : 'BedHead', x : 24, y : 30};
mappages["blackdragon"].features[119] = {name : 'BedFoot', x : 25, y : 30};
mappages["blackdragon"].features[120] = {name : 'SmallBox', x : 23, y : 30};
mappages["blackdragon"].features[121] = {name : 'StairUp', x : 25, y : 20, entermap : 'blackdragon2', enterx : 25, entery : 20};
mappages["blackdragon"].features[122] = {name : 'Tree', x : 11, y : 14};
mappages["blackdragon"].features[123] = {name : 'Tree', x : 11, y : 15};
mappages["blackdragon"].features[124] = {name : 'Tree', x : 12, y : 15};
mappages["blackdragon"].features[125] = {name : 'Tree', x : 13, y : 15};
mappages["blackdragon"].features[126] = {name : 'Tree', x : 11, y : 9};
mappages["blackdragon"].features[127] = {name : 'AppleTree', x : 12, y : 14};
mappages["blackdragon"].features[128] = {name : 'AppleTree', x : 11, y : 13};
mappages["blackdragon"].features[129] = {name : 'AppleTree', x : 19, y : 12};
mappages["blackdragon"].features[130] = {name : 'AppleTree', x : 17, y : 7};
mappages["blackdragon"].features[131] = {name : 'Tree', x : 7, y : 11};
mappages["blackdragon"].features[132] = {name : 'Tree', x : 8, y : 6};
mappages["blackdragon"].features[133] = {name : 'Tree', x : 39, y : 6};
mappages["blackdragon"].features[134] = {name : 'Tree', x : 39, y : 26};
mappages["blackdragon"].features[135] = {name : 'Tree', x : 38, y : 39};
mappages["blackdragon"].features[136] = {name : 'PileOfRocks', x : 21, y : 15};
mappages["blackdragon"].features[137] = {name : 'PileOfRocks', x : 21, y : 14};
mappages["blackdragon"].features[138] = {name : 'PileOfRocks', x : 21, y : 13};
mappages["blackdragon"].features[139] = {name : 'PileOfRocks', x : 21, y : 12};
mappages["blackdragon"].features[140] = {name : 'PileOfRocks', x : 21, y : 11};
mappages["blackdragon"].features[141] = {name : 'PileOfRocks', x : 21, y : 10};
mappages["blackdragon"].features[142] = {name : 'PileOfRocks', x : 21, y : 9};
mappages["blackdragon"].features[143] = {name : 'PileOfRocks', x : 21, y : 8};
mappages["blackdragon"].features[144] = {name : 'PileOfRocks', x : 21, y : 7};
mappages["blackdragon"].features[145] = {name : 'PileOfRocks', x : 20, y : 6};
mappages["blackdragon"].features[146] = {name : 'PileOfRocks', x : 19, y : 6};
mappages["blackdragon"].features[147] = {name : 'PileOfRocks', x : 18, y : 6};
mappages["blackdragon"].features[148] = {name : 'PileOfRocks', x : 17, y : 6};
mappages["blackdragon"].features[149] = {name : 'PileOfRocks', x : 16, y : 6};
mappages["blackdragon"].features[150] = {name : 'PileOfRocks', x : 15, y : 6};
mappages["blackdragon"].features[151] = {name : 'PileOfRocks', x : 14, y : 6};
mappages["blackdragon"].features[152] = {name : 'PileOfRocks', x : 13, y : 6};
mappages["blackdragon"].features[153] = {name : 'PileOfRocks', x : 12, y : 6};
mappages["blackdragon"].features[154] = {name : 'PileOfRocks', x : 11, y : 7};
mappages["blackdragon"].features[155] = {name : 'PileOfRocks', x : 10, y : 8};
mappages["blackdragon"].features[156] = {name : 'PileOfRocks', x : 10, y : 9};
mappages["blackdragon"].features[157] = {name : 'PileOfRocks', x : 10, y : 10};
mappages["blackdragon"].features[158] = {name : 'PileOfRocks', x : 10, y : 11};
mappages["blackdragon"].features[159] = {name : 'PileOfRocks', x : 10, y : 12};
mappages["blackdragon"].features[160] = {name : 'PileOfRocks', x : 10, y : 13};
mappages["blackdragon"].features[161] = {name : 'PileOfRocks', x : 10, y : 14};
mappages["blackdragon"].features[162] = {name : 'PileOfRocks', x : 10, y : 15};
mappages["blackdragon"].features[163] = {name : 'PileOfRocks', x : 8, y : 36};
mappages["blackdragon"].features[164] = {name : 'FringeCarpetNW', x : 25, y : 14};
mappages["blackdragon"].features[165] = {name : 'FringeCarpetN', x : 26, y : 14};
mappages["blackdragon"].features[166] = {name : 'FringeCarpetNE', x : 27, y : 14};
mappages["blackdragon"].features[167] = {name : 'FringeCarpetW', x : 25, y : 15};
mappages["blackdragon"].features[168] = {name : 'FringeCarpetC', x : 26, y : 15};
mappages["blackdragon"].features[169] = {name : 'FringeCarpetE', x : 27, y : 15};
mappages["blackdragon"].features[170] = {name : 'FringeCarpetSE', x : 27, y : 16};
mappages["blackdragon"].features[171] = {name : 'FringeCarpetS', x : 26, y : 16};
mappages["blackdragon"].features[172] = {name : 'FringeCarpetSW', x : 25, y : 16};
mappages["blackdragon"].features[173] = {name : 'MarblePillar', x : 13, y : 36};
mappages["blackdragon"].features[174] = {name : 'MarblePillar', x : 13, y : 34};
mappages["blackdragon"].features[175] = {name : 'MarblePillar', x : 13, y : 32};
mappages["blackdragon"].features[176] = {name : 'MarblePillar', x : 13, y : 30};
mappages["blackdragon"].features[177] = {name : 'MarblePillar', x : 11, y : 30};
mappages["blackdragon"].features[178] = {name : 'MarblePillar', x : 11, y : 32};
mappages["blackdragon"].features[179] = {name : 'MarblePillar', x : 11, y : 34};
mappages["blackdragon"].features[180] = {name : 'MarblePillar', x : 11, y : 36};
mappages["blackdragon"].features[181] = {name : 'MarblePillar', x : 35, y : 17};
mappages["blackdragon"].features[182] = {name : 'MarblePillar', x : 35, y : 14};
mappages["blackdragon"].features[183] = {name : 'MarblePillar', x : 35, y : 11};
mappages["blackdragon"].features[184] = {name : 'MarblePillar', x : 39, y : 11};
mappages["blackdragon"].features[185] = {name : 'MarblePillar', x : 39, y : 14};
mappages["blackdragon"].features[186] = {name : 'MarblePillar', x : 39, y : 17};
mappages["blackdragon"].features[187] = {name : 'DoubleBedHead', x : 21, y : 19};
mappages["blackdragon"].features[188] = {name : 'DoubleBedFoot', x : 22, y : 19};
mappages["blackdragon"].features[189] = {name : 'Brazier', x : 20, y : 30};
mappages["blackdragon"].features[190] = {name : 'Fireplace', x : 11, y : 17};
mappages["blackdragon"].features[191] = {name : 'Fireplace', x : 11, y : 23};
mappages["blackdragon"].features[192] = {name : 'Fireplace', x : 23, y : 17};
mappages["blackdragon"].features[193] = {name : 'Fireplace', x : 23, y : 22};
mappages["blackdragon"].features[194] = {name : 'Fireplace', x : 26, y : 31};
mappages["blackdragon"].features[195] = {name : 'Fireplace', x : 27, y : 33};
mappages["blackdragon"].features[196] = {name : 'Spit', x : 37, y : 30};
mappages["blackdragon"].features[197] = {name : 'Brazier', x : 37, y : 35};
mappages["blackdragon"].features[198] = {name : 'Fireplace', x : 36, y : 24};
mappages["blackdragon"].features[199] = {name : 'Fireplace', x : 34, y : 24};
mappages["blackdragon"].features[200] = {name : 'Spit', x : 34, y : 28};
mappages["blackdragon"].features[201] = {name : 'Brazier', x : 31, y : 12};
mappages["blackdragon"].features[202] = {name : 'Fireplace', x : 24, y : 15};
mappages["blackdragon"].features[203] = {name : 'TorchWest', x : 33, y : 12};
mappages["blackdragon"].features[204] = {name : 'TorchWest', x : 33, y : 15};
mappages["blackdragon"].features[205] = {name : 'TorchEast', x : 41, y : 12};
mappages["blackdragon"].features[206] = {name : 'TorchEast', x : 41, y : 15};
mappages["blackdragon"].features[207] = {name : 'TorchWest', x : 10, y : 31};
mappages["blackdragon"].features[208] = {name : 'TorchWest', x : 10, y : 34};
mappages["blackdragon"].features[209] = {name : 'TorchEast', x : 14, y : 31};
mappages["blackdragon"].features[210] = {name : 'TorchEast', x : 14, y : 34};
mappages["blackdragon"].features[211] = {name : 'TorchWest', x : 12, y : 26};
mappages["blackdragon"].features[212] = {name : 'Brazier', x : 40, y : 10};
mappages["blackdragon"].features[213] = {name : 'Brazier', x : 34, y : 10};
mappages["blackdragon"].features[214] = {name : 'TorchWest', x : 30, y : 20};


mappages["blackdragon"].npcs = [];
mappages["blackdragon"].npcs[0] = {name : 'TownGuardNPC', x : 10, y : 40, NPCName: 'Lumen', PeaceAI: 'scheduled', Schedule: 'lumen', Conversation: 'lumen', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon"].npcs[1] = {name : 'TownGuardNPC', x : 20, y : 32, NPCName: 'Bosku', PeaceAI: 'scheduled', Schedule: 'bosku', Conversation: 'bosku', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"RedHeadPale"}'};
mappages["blackdragon"].npcs[2] = {name : 'TownGuardNPC', x : 11, y : 35, NPCName: 'Dollin', PeaceAI: 'scheduled', Schedule: 'dollin', Conversation: 'dollin', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon"].npcs[3] = {name : 'TownGuardNPC', x : 24, y : 30, NPCName: 'Nessa', PeaceAI: 'scheduled', Schedule: 'nessa', Conversation: 'nessa', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon"].npcs[4] = {name : 'TownGuardNPC', x : 13, y : 35, NPCName: 'Ronan', PeaceAI: 'scheduled', Schedule: 'ronan', Conversation: 'ronan', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon"].npcs[5] = {name : 'TownGuardNPC', x : 24, y : 32, NPCName: 'Lian', PeaceAI: 'scheduled', Schedule: 'lian', Conversation: 'lian', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BaldBeardedDark"}'};
mappages["blackdragon"].npcs[6] = {name : 'TownGuardNPC', x : 8, y : 34, NPCName: 'Carbry', PeaceAI: 'scheduled', Schedule: 'carbry', Conversation: 'carbry', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon"].npcs[7] = {name : 'TownGuardNPC', x : 20, y : 34, NPCName: 'Aelid', PeaceAI: 'scheduled', Schedule: 'aelid', Conversation: 'aelid', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon"].npcs[8] = {name : 'TownGuardNPC', x : 8, y : 27, NPCName: 'Perick', PeaceAI: 'scheduled', Schedule: 'perick', Conversation: 'perick', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BaldBeardedDark"}'};
mappages["blackdragon"].npcs[9] = {name : 'TownGuardNPC', x : 24, y : 34, NPCName: 'Oshin', PeaceAI: 'scheduled', Schedule: 'oshin', Conversation: 'oshin', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBrownPale"}'};
mappages["blackdragon"].npcs[10] = {name : 'PrinceNPC', x : 37, y : 12, NPCName: 'Prince Lance', PeaceAI: 'scheduled', Schedule: 'lance', Conversation: 'lance', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateKnight","head":"PrinceHead","back":"","offhand":"OffhandPale","cloak":"BlueCloak","mainhand":"MainHandPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon"].npcs[11] = {name : 'BlackDragonNPC', x : 39, y : 15, NPCName: 'Black Dragon', Attitude: 'friendly', PeaceAI: 'scheduled', Schedule: 'blackdragon', Conversation: 'blackdragon', Gender: 'male', Leash: 2, Bark: '0', NPCBand: '0', skintone: 1};
mappages["blackdragon"].npcs[12] = {name : 'TownGuardNPC', x : 34, y : 20, NPCName: 'Ranlyn', PeaceAI: 'scheduled', Schedule: 'ranlyn', Conversation: 'ranlyn', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon"].npcs[13] = {name : 'TownGuardNPC', x : 33, y : 16, NPCName: 'Sissott', PeaceAI: 'scheduled', Schedule: 'sissott', Conversation: 'sissott', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon"].npcs[14] = {name : 'TownGuardNPC', x : 24, y : 36, NPCName: 'Yuan', PeaceAI: 'scheduled', Schedule: 'yuan', Conversation: 'yuan', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon"].npcs[15] = {name : 'TownGuardNPC', x : 20, y : 36, NPCName: 'Joney', PeaceAI: 'scheduled', Schedule: 'joney', Conversation: 'joney', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"BlondePale"}'};
mappages["blackdragon"].npcs[16] = {name : 'TownsfolkVillagerNPC', x : 16, y : 9, NPCName: 'Taran', Desc: 'gardener', PeaceAI: 'scheduled', Schedule: 'taran', Conversation: 'taran', ConversationFlag: 'taran', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"GreenTunic","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBrownPale"}'};
mappages["blackdragon"].npcs[17] = {name : 'TownsfolkVillagerNPC', x : 36, y : 27, NPCName: 'Brad', Desc: 'cook', PeaceAI: 'scheduled', Schedule: 'brad', Conversation: 'brad', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"WhiteTunic2","head":"BlondePale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"BlondePale"}'};
mappages["blackdragon"].npcs[18] = {name : 'FighterVillagerNPC', x : 33, y : 33, NPCName: 'Nadya', PeaceAI: 'scheduled', Schedule: 'nadya', Conversation: 'nadya', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"Plate2","head":"ShortBlackDark","back":"","offhand":"OffhandDaggerDark","cloak":"","mainhand":"LongswordDark","realhead":"ShortBlackDark"}'};

mappages["blackdragon"].desc = "Black Dragon Castle";
mappages["blackdragon"].longdesc = `Not long ago, this site was a ruin from wars past. But recently, Prince Lance rebuilt it with shocking speed, and now it is the center of his rebellion. The drawbridge is firmly closed across a deep moat.`;
mappages["blackdragon"].music = 'Dark Towne';
mappages["blackdragon"].savename = `B Drag Castle`;
mappages["blackdragon"].exitmap = 'darkunknown';
mappages["blackdragon"].exitx = '49';
mappages["blackdragon"].exity = '90';
mappages["blackdragon"].wraps = 'None';
mappages["blackdragon"].enterx = '10';
mappages["blackdragon"].entery = '43';
mappages["blackdragon"].seeBelow = '';
mappages["blackdragon"].lightLevel = 'cycle';
mappages["blackdragon"].alwaysRemember = '0';
mappages["blackdragon"].scale = '1';
mappages["blackdragon"].underground = '0';
mappages["blackdragon"].undergroundDesc = '';
mappages["blackdragon"].enterscript = '';
mappages["blackdragon"].entertestscript = '';
mappages["blackdragon"].exitscript = 'maps_exit';
mappages["blackdragon"].exittestscript = '';
mappages["blackdragon"].returnmap = 'darkunknown';
mappages["blackdragon"].returnx = '49';
mappages["blackdragon"].returny = '90';
mappages["blackdragon"].returninfused = '0';
mappages["blackdragon"].linkedMaps = ["blackdragon2","blackdragon3","blackdragon4"];
mappages["blackdragon"].editorLabels = '{"div_tile13x23":"Taran","div_tile20x18":"Nadya","div_tile13x19":"Brad"}';
// MAP ENDS HERE

mappages["blackdragon"].onload = function(mapref) {
  // check for act 1 to be over, if so, gate is open
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    if (DU.gameflags.getFlag("act2")) {
      Open_BDC_Gate(mapref);
      SetAct2Convos(mapref);
      let npcs = mapref.npcs.getAll();
      let dragon, lance;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getName() === "BlackDragonNPC") { dragon = npcs[i]; }
        if (npcs[i].getName() === "PrinceNPC") { lance = npcs[i]; }
      }
      mapref.deleteThing(dragon);
      DUTime.removeEntityFrom(dragon);

      // Adjust Lance to Act 2 schedule
      lance.setSchedule("lance_act2");
      let loc = DU.schedules[lance.getSchedule()].getNPCLocationByTime(GetClockTime(), 1, 1, mapref);
      let prevacre = mapref.getTile(lance.getx(),lance.gety());
      prevacre.executeWalkoffs(lance);
      mapref.moveThing(loc.x,loc.y,lance);
      let placedacre = mapref.getTile(loc.x,loc.y);
      placedacre.executeWalkons(lance);  

      //Unlock his door
      let door = mapref.getTile(32,17).getTopFeature();
      door.unlockMe();
    } else {
      let npcs = mapref.npcs.getAll();
      let dragon;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getName() === "BlackDragonNPC") { dragon = npcs[i]; }
      }
      dragon.setMaxHP(3000);
      dragon.setHP(3000);
    }
  } else if ((gamestate.getMode() === "loadgame") && (!DU.gameflags.getFlag("editor")) && (DU.gameflags.getFlag("bdc_gate_open"))) {
    LowerDrawbridge(mapref);
  }
}

mappages["blackdragon"].maps_exit = function(mapref) {
  mapref.Exit = function(who,tomap,fromx,fromy,tox,toy) {
    if ((tomap.getName() === "darkunknown") || (tomap.getName() === "landsbeyond")) {
      DU.gameflags.deleteFlag("bdc_gate_open");
      if (DU.gameflags.getFlag("lid_lancenotes") && !PC.checkInventory("LanceRuneNotes")) {
        DU.gameflags.deleteFlag("lid_lancenotes");
      }
    }
  }
}

function LowerDrawbridge(mapref) {
  let planks = localFactory.createTile("FadedWoodNS");
  mapref.setTerrain(11,41,planks);
  mapref.setTerrain(12,41,planks);
  mapref.setTerrain(13,41,planks);
  mapref.setTerrain(11,42,planks);
  mapref.setTerrain(12,42,planks);
  mapref.setTerrain(13,42,planks);
}

function Open_BDC_Gate(mapref) {
  // makes sense for this to be here. Called in onload if rebellion is over, and by the outer guard if you have the pin
  // working here
  if ((mapref.getName() === "blackdragon") || (mapref.getName() === "blackdragon_int") || (mapref.getName() === "blackdragon_act2")) {
    mapref.getTile(11,39).getTopFeature().setGraphicArray(["static.gif","",-9*32,-108*32]);
    let gate = mapref.getTile(12,38).getTopFeature();
    gate.unlockMe();
    gate.use();
    LowerDrawbridge(mapref);
    DrawMainFrame("draw",PC.getHomeMap(),PC.getx(),PC.gety());
  }
}

function Close_BDC_Gate(mapref) {
  mapref.getTile(11,39).getTopFeature().setGraphicArray(["static.gif","",-8*32,-108*32]);
  let planks = localFactory.createTile("Shallows");
  mapref.setTerrain(11,41,planks);
  mapref.setTerrain(12,41,planks);
  mapref.setTerrain(13,41,planks);
  mapref.setTerrain(11,42,planks);
  mapref.setTerrain(12,42,planks);
  mapref.setTerrain(13,42,planks);
}

mappages["blackdragon2"] = {};
mappages["blackdragon2"].terrain = [];
 mappages["blackdragon2"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon2"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon2"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon2"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon2"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc sb sb';
mappages["blackdragon2"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[16] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[17] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[18] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[19] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## ## ## ## ## ## rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon2"].terrain[20] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon2"].terrain[21] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon2"].terrain[22] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon2"].terrain[23] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon2"].terrain[24] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[25] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## ## ## ## ## ## rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[26] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[27] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[28] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[29] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[30] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[31] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[32] = 'sb sb sb sb sb sb sb rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[33] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[34] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[35] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[36] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[37] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[38] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon2"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon2"].features = [];
mappages["blackdragon2"].features[0] = {name : 'StairDown', x : 25, y : 20, entermap : 'blackdragon', enterx : 25, entery : 20};
mappages["blackdragon2"].features[1] = {name : 'PentagramNW', x : 26, y : 22};
mappages["blackdragon2"].features[2] = {name : 'PentagramN', x : 27, y : 22};
mappages["blackdragon2"].features[3] = {name : 'PentagramNE', x : 28, y : 22};
mappages["blackdragon2"].features[4] = {name : 'PentagramE', x : 28, y : 23};
mappages["blackdragon2"].features[5] = {name : 'PentagramC', x : 27, y : 23};
mappages["blackdragon2"].features[6] = {name : 'PentagramW', x : 26, y : 23};
mappages["blackdragon2"].features[7] = {name : 'PentagramSW', x : 26, y : 24};
mappages["blackdragon2"].features[8] = {name : 'PentagramS', x : 27, y : 24};
mappages["blackdragon2"].features[9] = {name : 'PentagramSE', x : 28, y : 24};
mappages["blackdragon2"].features[10] = {name : 'StairUp2', x : 25, y : 21, entermap : 'blackdragon3', enterx : 25, entery : 21};
mappages["blackdragon2"].features[11] = {name : 'BookshelfOne', x : 28, y : 20};
mappages["blackdragon2"].features[12] = {name : 'Chest', x : 27, y : 20};
mappages["blackdragon2"].features[13] = {name : 'FireField', x : 25, y : 24};
mappages["blackdragon2"].features[14] = {name : 'FireField', x : 28, y : 21};


mappages["blackdragon2"].npcs = [];

mappages["blackdragon2"].desc = "Black Dragon Castle";
mappages["blackdragon2"].longdesc = ``;
mappages["blackdragon2"].music = 'Dark Towne';
mappages["blackdragon2"].savename = `B Drag Castle`;
mappages["blackdragon2"].exitmap = 'darkunknown';
mappages["blackdragon2"].exitx = '49';
mappages["blackdragon2"].exity = '90';
mappages["blackdragon2"].wraps = 'None';
mappages["blackdragon2"].enterx = '10';
mappages["blackdragon2"].entery = '43';
mappages["blackdragon2"].seeBelow = 'blackdragon';
mappages["blackdragon2"].lightLevel = 'cycle';
mappages["blackdragon2"].alwaysRemember = '0';
mappages["blackdragon2"].scale = '1';
mappages["blackdragon2"].underground = '0';
mappages["blackdragon2"].undergroundDesc = '';
mappages["blackdragon2"].enterscript = '';
mappages["blackdragon2"].entertestscript = '';
mappages["blackdragon2"].exitscript = '';
mappages["blackdragon2"].exittestscript = '';
mappages["blackdragon2"].returnmap = 'darkunknown';
mappages["blackdragon2"].returnx = '69';
mappages["blackdragon2"].returny = '74';
mappages["blackdragon2"].returninfused = '0';
mappages["blackdragon2"].linkedMaps = ["blackdragon","blackdragon3","blackdragon4"];
mappages["blackdragon2"].editorLabels = '{}';

// MAP BEGINS HERE
mappages["blackdragon3"] = {};
mappages["blackdragon3"].terrain = [];
 mappages["blackdragon3"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon3"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[16] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[17] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[18] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[19] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## #O ## ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[20] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[21] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[22] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb #O +t +t +t +t #O sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[23] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[24] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[25] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## ## #O ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[26] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[27] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[28] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[29] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[30] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[31] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[32] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[33] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[34] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[35] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[36] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[37] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[38] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon3"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon3"].features = [];
mappages["blackdragon3"].features[0] = {name : 'StairDown2', x : 25, y : 21, entermap : 'blackdragon2', enterx : 25, entery : 21};
mappages["blackdragon3"].features[1] = {name : 'BedHead', x : 25, y : 24};
mappages["blackdragon3"].features[2] = {name : 'BedFoot', x : 26, y : 24};
mappages["blackdragon3"].features[3] = {name : 'Mirror', x : 28, y : 20};
mappages["blackdragon3"].features[4] = {name : 'Dresser', x : 28, y : 24};
mappages["blackdragon3"].features[5] = {name : 'LeftTable', x : 25, y : 22};
mappages["blackdragon3"].features[6] = {name : 'RightTable', x : 26, y : 22};
mappages["blackdragon3"].features[7] = {name : 'RightChair', x : 27, y : 22};
mappages["blackdragon3"].features[8] = {name : 'LadderUp', x : 25, y : 20, entermap : 'blackdragon4', enterx : 25, entery : 20};
mappages["blackdragon3"].features[9] = {name : 'EnergyField', x : 25, y : 20};


mappages["blackdragon3"].npcs = [];
mappages["blackdragon3"].npcs[0] = {name : 'MageVillagerNPC', x : 26, y : 20, NPCName: 'Justice', PeaceAI: 'scheduled', PCThreatAI: 'RunAway', Schedule: 'justice', Conversation: 'justice', ConversationFlag: 'justice', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueRobe","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"QuarterstaffPale","realhead":"ShortBlackPale"}'};

mappages["blackdragon3"].desc = "Black Dragon Castle";
mappages["blackdragon3"].longdesc = ``;
mappages["blackdragon3"].music = 'Dark Towne';
mappages["blackdragon3"].savename = `B Drag Castle`;
mappages["blackdragon3"].exitmap = 'darkunknown';
mappages["blackdragon3"].exitx = '49';
mappages["blackdragon3"].exity = '90';
mappages["blackdragon3"].wraps = 'None';
mappages["blackdragon3"].enterx = '10';
mappages["blackdragon3"].entery = '43';
mappages["blackdragon3"].seeBelow = 'blackdragon2';
mappages["blackdragon3"].lightLevel = 'cycle';
mappages["blackdragon3"].alwaysRemember = '0';
mappages["blackdragon3"].scale = '1';
mappages["blackdragon3"].underground = '0';
mappages["blackdragon3"].undergroundDesc = '';
mappages["blackdragon3"].enterscript = 'OrbPulse';
mappages["blackdragon3"].entertestscript = '';
mappages["blackdragon3"].exitscript = '';
mappages["blackdragon3"].exittestscript = '';
mappages["blackdragon3"].returnmap = 'darkunknown';
mappages["blackdragon3"].returnx = '69';
mappages["blackdragon3"].returny = '74';
mappages["blackdragon3"].returninfused = '0';
mappages["blackdragon3"].linkedMaps = ["blackdragon2","blackdragon","blackdragon4"];
mappages["blackdragon3"].editorLabels = '{}';
// MAP ENDS HERE

mappages["blackdragon3"].OrbPulse = function(mapref) {
  mapref.Enter = function(who,frommap,oldx,oldy,destx,desty) {
    if (who === PC) {
      if (who.checkInventory("JusticeOrb")) {
        maintext.addText("The strange blue, crystalline orb you are carrying begins to pulse with a slow, blue light.");
      }
    }
  }
}

mappages["blackdragon3"].onload = function(mapref) {
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    if (DU.gameflags.getFlag("justice_escape")) {
      let npcs = mapref.npcs.getAll()
      let justice;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getNPCName() === "Justice") { justice = npcs[i]; }
      }
      mapref.deleteThing(justice);
      DUTime.removeEntityFrom(justice);
    }
  }
}
mappages["blackdragon4"] = {};
mappages["blackdragon4"].terrain = [];
 mappages["blackdragon4"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon4"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[16] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[17] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[18] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[19] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## #O ## ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[20] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[21] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[22] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb #O +t +t +t +t #O sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[23] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[24] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[25] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## ## #O ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[26] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[27] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[28] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[29] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[30] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[31] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[32] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[33] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[34] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[35] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[36] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[37] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[38] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon4"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon4"].features = [];
mappages["blackdragon4"].features[0] = {name : 'LadderDown', x : 25, y : 20, entermap : 'blackdragon3', enterx : 25, entery : 20};
mappages["blackdragon4"].features[1] = {name : 'Chest', x : 25, y : 23};
mappages["blackdragon4"].features[2] = {name : 'Chest', x : 25, y : 24};
mappages["blackdragon4"].features[3] = {name : 'Chest', x : 26, y : 24};
mappages["blackdragon4"].features[4] = {name : 'BookshelfLeft', x : 27, y : 20};
mappages["blackdragon4"].features[5] = {name : 'BookshelfRight', x : 28, y : 20};
mappages["blackdragon4"].features[6] = {name : 'BookshelfRight', x : 28, y : 22};
mappages["blackdragon4"].features[7] = {name : 'BookshelfLeft', x : 27, y : 22};
mappages["blackdragon4"].features[8] = {name : 'UnlitBrazier', x : 28, y : 24};


mappages["blackdragon4"].npcs = [];

mappages["blackdragon4"].desc = "Black Dragon Castle";
mappages["blackdragon4"].longdesc = ``;
mappages["blackdragon4"].music = 'Dark Towne';
mappages["blackdragon4"].savename = `B Drag Castle`;
mappages["blackdragon4"].exitmap = 'darkunknown';
mappages["blackdragon4"].exitx = '49';
mappages["blackdragon4"].exity = '90';
mappages["blackdragon4"].wraps = 'None';
mappages["blackdragon4"].enterx = '10';
mappages["blackdragon4"].entery = '43';
mappages["blackdragon4"].seeBelow = 'blackdragon3';
mappages["blackdragon4"].lightLevel = 'cycle';
mappages["blackdragon4"].alwaysRemember = '0';
mappages["blackdragon4"].scale = '1';
mappages["blackdragon4"].underground = '0';
mappages["blackdragon4"].undergroundDesc = '';
mappages["blackdragon4"].enterscript = '';
mappages["blackdragon4"].entertestscript = '';
mappages["blackdragon4"].exitscript = '';
mappages["blackdragon4"].exittestscript = '';
mappages["blackdragon4"].returnmap = 'darkunknown';
mappages["blackdragon4"].returnx = '69';
mappages["blackdragon4"].returny = '74';
mappages["blackdragon4"].returninfused = '0';
mappages["blackdragon4"].linkedMaps = ["blackdragon2","blackdragon3","blackdragon"];
mappages["blackdragon4"].editorLabels = '{}';

mappages["blackdragon4"].onload = function(mapref) {
  // check for act 1 to be over, if not, forcefields
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    if (!DU.gameflags.getFlag("act2")) {
      let field1, field2, field3;
      field1 = localFactory.createTile("EnergyField");
      field2 = localFactory.createTile("EnergyField");
      field3 = localFactory.createTile("EnergyField");
      mapref.placeThing(26,20,field1);
      mapref.placeThing(25,21,field2);
      mapref.placeThing(26,21,field3);

      Listener.createListener("BDragon", "Negate Magic", [], "blackdragon");
    }
  }
}


// MAP BEGINS HERE
mappages["blackdragon_int"] = {};
mappages["blackdragon_int"].terrain = [];
 mappages["blackdragon_int"].terrain[0] = '.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. nn nn nn nn nn nn nn nn nn nn';
 mappages["blackdragon_int"].terrain[1] = '.. .. .. .. __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ nn nn nn nn nn nn';
 mappages["blackdragon_int"].terrain[2] = '.. .. .. ./ uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["blackdragon_int"].terrain[3] = '.. .. .| uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["blackdragon_int"].terrain[4] = '.. .. .| uu uu uu /. -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -, -- nn nn nn';
 mappages["blackdragon_int"].terrain[5] = '.. .. .| uu uu /. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. ,, ,, .. nn';
 mappages["blackdragon_int"].terrain[6] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, ,, .. .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon_int"].terrain[7] = '.. .. .| uu uu |. .. .. .. .. .. .. u, .. .. .. u, .. ., ., ., .. .. ## ## ## ## ## ## ## ## ## ## .. .. ,, .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon_int"].terrain[8] = '.. .. .| uu uu |. .. .. .. .. .. u, .. .. ,, .. .. ,, ., ., ., .. .. ## ## +m +m +m +m +m +m +m ## .. .. .. .. .. .. .. .. .. .. .. ..';
 mappages["blackdragon_int"].terrain[9] = '.. .. .| uu uu |. .. .. .. .. .. .. .. ,, u, .. .. .. .. .. .. .. .. ## ## +m +m +m +m +m +m +m ## ## ## ## ## ## ## ## ## ## ## .. ..';
mappages["blackdragon_int"].terrain[10] = '.. .. .| uu uu |. .. .. .. .. .. ,, .. __ .. .. .. ,, .. ,, .. .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[11] = '.. .. .| uu uu |. .. .. .. .. .. .. ./ us `. ,, .. .. .. .. ,, .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[12] = '.. .. .| uu uu |. .. .. .. .. .. .. .` us /. .. .. .. ,, .. .. .. .. ## ## +m +m +m +m +m +m +m ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[13] = '.. .. .| uu uu |. .. .. .. .. .. .. .. -, .. .. u, .. .. ,, u, .. .. ## ## ## ## ## ## +t ## ## ## +t +t +t +t +t +t +t +t +t ## .. ,,';
mappages["blackdragon_int"].terrain[14] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. .. .. ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[15] = '.. .. .| uu uu |. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. ## f# +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[16] = '.. .. .| uu uu |. .. ## #+ ## ## ## ## ## ## #O ## +t ## #O ## ## ## ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[17] = '.. .. .| uu uu |. .. ## +t ## ## f# +t +t +t +t ## +t ## +t +t +t +t f# ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[18] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t +t +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. ..';
mappages["blackdragon_int"].terrain[19] = '.. .. .| uu uu |. .. #+ +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t ## ## ## ## ## ## ## ## ## ## ## ## +t +t +t +t ## ## ## ## .. ..';
mappages["blackdragon_int"].terrain[20] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## ## ## ## ## ## ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .. ..';
mappages["blackdragon_int"].terrain[21] = '.. .. .| uu uu |. .. ## +t ## ## ## ## ## ## ## ## +t ## +t +t +t +t ## ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .. ./';
mappages["blackdragon_int"].terrain[22] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t f# ## +t +t +t +t ## +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu';
mappages["blackdragon_int"].terrain[23] = '.. .. .| uu uu |. .. #+ +t ## ## f# +t +t +t +t +t +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t ## ## ## ## ## ## ## .. .. .. ./ uu';
mappages["blackdragon_int"].terrain[24] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t ## +t ## +t +t +t +t ## ## +t +t +t +t ## +t +t +t ## f# ## f# ## .. ,, .. .. .| uu uu';
mappages["blackdragon_int"].terrain[25] = '.. .. .| uu uu |. .. ## +t ## ## ## ## ## ## ## ## +t ## ## ## ## ## ## ## ## ## ## ## ## +t +t +t ## +t +t +t ## .. .. .. .. .| uu uu';
mappages["blackdragon_int"].terrain[26] = '.. .. .| uu uu |. .. ## +t ## ## ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## .. .. .. .. .| uu uu';
mappages["blackdragon_int"].terrain[27] = '.. .. .| uu uu |. .. ## +t +t ## ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## .. .. .. .. ./ uu uu';
mappages["blackdragon_int"].terrain[28] = '.. .. .| uu uu |. .. ## +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t +t ## +t +t +t ## ,, ,, .. .| uu uu uu';
mappages["blackdragon_int"].terrain[29] = '.. .. .| uu uu |. .. #+ +t ## #+ ## +t ## #+ ## ## ## ## ## ## ## +t ## ## ## ## ## ## ## +t ## ## ## ## ## +t ## ## .. .. .| uu uu uu';
mappages["blackdragon_int"].terrain[30] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .| uu uu uu';
mappages["blackdragon_int"].terrain[31] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t +t +t +t +t +t +t +t f# ## +t +t +t +t +t +t +t +t +t +t ## .. .. .| uu uu uu';
mappages["blackdragon_int"].terrain[32] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## ,, .. .. .` uu uu';
mappages["blackdragon_int"].terrain[33] = '.. .. .| uu uu |. .. #+ +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## f# +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon_int"].terrain[34] = '.. .. .| uu uu |. .. ## +t ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon_int"].terrain[35] = '.. .. .| uu uu |. .. ## #+ ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## +t +t +t +t +t +t +t +t +t +t ## .. .. .. .| uu uu';
mappages["blackdragon_int"].terrain[36] = '.. .. .| uu uu |. .. .. .. ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ## ## ## ## ## ## ## ## ## ## ## ## .. ,, .. .| uu uu';
mappages["blackdragon_int"].terrain[37] = '.. .. .| uu uu |. .. .. .. ## us +t +t +t us ## +t +t +t ## +t +t +t +t +t +t ## ,, ,, .. .. .. .. .. .. .. .. .. .. .. .. .. ./ uu uu';
mappages["blackdragon_int"].terrain[38] = '.. .. .| uu uu |. .. .. .. ## ## ## +t ## ## ## ## #+ ## ## ## ## #+ ## ## ## ## .. .. .. .. .. ,, .. .. ,, .. .. .. .. .. .| uu uu uu';
mappages["blackdragon_int"].terrain[39] = '.. .. .| uu uu |. .. .. .. .. .. f! f! f! .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .| uu uu uu';
mappages["blackdragon_int"].terrain[40] = '.. .. .| uu uu `. __ __ __ __ __ f! f! f! __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ .. .. .. .. .. ./ uu uu uu';
mappages["blackdragon_int"].terrain[41] = '.. .. .| uu uu uu uu uu uu uu uu f! f! f! uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu `. __ .. .. .. uu uu uu uu';
mappages["blackdragon_int"].terrain[42] = '.. .. .. .` uu uu uu uu uu uu uu f! f! f! uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu `. __ ./ uu uu uu uu';
mappages["blackdragon_int"].terrain[43] = '.. .. .. .. -- -- -- -- -- -- -- f! f! f! -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- .` uu uu uu uu uu uu uu uu uu';
mappages["blackdragon_int"].terrain[44] = '.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu';

mappages["blackdragon_int"].features = [];
mappages["blackdragon_int"].features[0] = {name : 'Doorway', x : 12, y : 29};
mappages["blackdragon_int"].features[1] = {name : 'Door', x : 22, y : 29, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[2] = {name : 'Door', x : 19, y : 31, desc : "locked door", locked : 1};
mappages["blackdragon_int"].features[3] = {name : 'BDCLever', x : 11, y : 39};
mappages["blackdragon_int"].features[4] = {name : 'BedHead', x : 20, y : 32};
mappages["blackdragon_int"].features[5] = {name : 'BedHead', x : 20, y : 34};
mappages["blackdragon_int"].features[6] = {name : 'BedHead', x : 20, y : 36};
mappages["blackdragon_int"].features[7] = {name : 'BedFoot', x : 21, y : 32};
mappages["blackdragon_int"].features[8] = {name : 'BedFoot', x : 21, y : 34};
mappages["blackdragon_int"].features[9] = {name : 'BedFoot', x : 21, y : 36};
mappages["blackdragon_int"].features[10] = {name : 'BedHead', x : 24, y : 32};
mappages["blackdragon_int"].features[11] = {name : 'BedHead', x : 24, y : 34};
mappages["blackdragon_int"].features[12] = {name : 'BedHead', x : 24, y : 36};
mappages["blackdragon_int"].features[13] = {name : 'BedFoot', x : 25, y : 32};
mappages["blackdragon_int"].features[14] = {name : 'BedFoot', x : 25, y : 34};
mappages["blackdragon_int"].features[15] = {name : 'BedFoot', x : 25, y : 36};
mappages["blackdragon_int"].features[16] = {name : 'Door', x : 17, y : 25};
mappages["blackdragon_int"].features[17] = {name : 'Door', x : 18, y : 23, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[18] = {name : 'Door', x : 16, y : 23, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[19] = {name : 'Door', x : 16, y : 18, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[20] = {name : 'Door', x : 18, y : 18, desc : "locked door", locked : 1, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[21] = {name : 'BedHead', x : 21, y : 24};
mappages["blackdragon_int"].features[22] = {name : 'BedHead', x : 12, y : 24};
mappages["blackdragon_int"].features[23] = {name : 'BedHead', x : 12, y : 20};
mappages["blackdragon_int"].features[24] = {name : 'BedFoot', x : 22, y : 24};
mappages["blackdragon_int"].features[25] = {name : 'BedFoot', x : 13, y : 24};
mappages["blackdragon_int"].features[26] = {name : 'BedFoot', x : 13, y : 20};
mappages["blackdragon_int"].features[27] = {name : 'Mirror', x : 22, y : 21};
mappages["blackdragon_int"].features[28] = {name : 'Mirror', x : 14, y : 22};
mappages["blackdragon_int"].features[29] = {name : 'Mirror', x : 13, y : 17};
mappages["blackdragon_int"].features[30] = {name : 'Mirror', x : 20, y : 17};
mappages["blackdragon_int"].features[31] = {name : 'BookshelfLeft', x : 19, y : 21};
mappages["blackdragon_int"].features[32] = {name : 'BookshelfRight', x : 20, y : 21};
mappages["blackdragon_int"].features[33] = {name : 'BookshelfOne', x : 19, y : 19};
mappages["blackdragon_int"].features[34] = {name : 'BookshelfOne', x : 15, y : 20};
mappages["blackdragon_int"].features[35] = {name : 'BookshelfOne', x : 12, y : 22};
mappages["blackdragon_int"].features[36] = {name : 'DoorWindow', x : 17, y : 16};
mappages["blackdragon_int"].features[37] = {name : 'DoorWindow', x : 30, y : 29};
mappages["blackdragon_int"].features[38] = {name : 'LeftTable', x : 28, y : 31};
mappages["blackdragon_int"].features[39] = {name : 'LeftTable', x : 32, y : 31};
mappages["blackdragon_int"].features[40] = {name : 'MiddleTable', x : 29, y : 31};
mappages["blackdragon_int"].features[41] = {name : 'MiddleTable', x : 33, y : 31};
mappages["blackdragon_int"].features[42] = {name : 'MiddleTable', x : 34, y : 31};
mappages["blackdragon_int"].features[43] = {name : 'RightTable', x : 30, y : 31};
mappages["blackdragon_int"].features[44] = {name : 'RightTable', x : 35, y : 31};
mappages["blackdragon_int"].features[45] = {name : 'LeftTable', x : 28, y : 34};
mappages["blackdragon_int"].features[46] = {name : 'LeftTable', x : 32, y : 34};
mappages["blackdragon_int"].features[47] = {name : 'MiddleTable', x : 29, y : 34};
mappages["blackdragon_int"].features[48] = {name : 'MiddleTable', x : 33, y : 34};
mappages["blackdragon_int"].features[49] = {name : 'MiddleTable', x : 34, y : 34};
mappages["blackdragon_int"].features[50] = {name : 'RightTable', x : 35, y : 34};
mappages["blackdragon_int"].features[51] = {name : 'RightTable', x : 30, y : 34};
mappages["blackdragon_int"].features[52] = {name : 'BottomChair', x : 28, y : 32};
mappages["blackdragon_int"].features[53] = {name : 'BottomChair', x : 30, y : 32};
mappages["blackdragon_int"].features[54] = {name : 'BottomChair', x : 28, y : 35};
mappages["blackdragon_int"].features[55] = {name : 'BottomChair', x : 30, y : 35};
mappages["blackdragon_int"].features[56] = {name : 'BottomChair', x : 32, y : 35};
mappages["blackdragon_int"].features[57] = {name : 'BottomChair', x : 34, y : 35};
mappages["blackdragon_int"].features[58] = {name : 'TopChair', x : 29, y : 30};
mappages["blackdragon_int"].features[59] = {name : 'TopChair', x : 33, y : 30};
mappages["blackdragon_int"].features[60] = {name : 'TopChair', x : 35, y : 30};
mappages["blackdragon_int"].features[61] = {name : 'TopChair', x : 33, y : 33};
mappages["blackdragon_int"].features[62] = {name : 'TopChair', x : 35, y : 33};
mappages["blackdragon_int"].features[63] = {name : 'BottomChair', x : 34, y : 32};
mappages["blackdragon_int"].features[64] = {name : 'BottomChair', x : 32, y : 32};
mappages["blackdragon_int"].features[65] = {name : 'TopChair', x : 29, y : 33};
mappages["blackdragon_int"].features[66] = {name : 'DoorWindow', x : 36, y : 29};
mappages["blackdragon_int"].features[67] = {name : 'LeftTable', x : 34, y : 26};
mappages["blackdragon_int"].features[68] = {name : 'RightTable', x : 35, y : 26};
mappages["blackdragon_int"].features[69] = {name : 'Door', x : 29, y : 23};
mappages["blackdragon_int"].features[70] = {name : 'Door', x : 11, y : 28, desc : "locked door", locked : 1};
mappages["blackdragon_int"].features[71] = {name : 'BDThrone', x : 37, y : 11};
mappages["blackdragon_int"].features[72] = {name : 'Door', x : 32, y : 17};
mappages["blackdragon_int"].features[73] = {name : 'PentagramSW', x : 25, y : 12};
mappages["blackdragon_int"].features[74] = {name : 'PentagramS', x : 26, y : 12};
mappages["blackdragon_int"].features[75] = {name : 'PentagramSE', x : 27, y : 12};
mappages["blackdragon_int"].features[76] = {name : 'PentagramE', x : 27, y : 11};
mappages["blackdragon_int"].features[77] = {name : 'PentagramC', x : 26, y : 11};
mappages["blackdragon_int"].features[78] = {name : 'PentagramW', x : 25, y : 11};
mappages["blackdragon_int"].features[79] = {name : 'PentagramN', x : 26, y : 10};
mappages["blackdragon_int"].features[80] = {name : 'PentagramNW', x : 25, y : 10};
mappages["blackdragon_int"].features[81] = {name : 'PentagramNE', x : 27, y : 10};
mappages["blackdragon_int"].features[82] = {name : 'BookshelfLeft', x : 25, y : 8};
mappages["blackdragon_int"].features[83] = {name : 'BookshelfLeft', x : 27, y : 8};
mappages["blackdragon_int"].features[84] = {name : 'BookshelfLeft', x : 29, y : 8, lootedid : 'lancenotes', searchyield : 'LanceRuneNotes'};
mappages["blackdragon_int"].features[85] = {name : 'BookshelfRight', x : 26, y : 8};
mappages["blackdragon_int"].features[86] = {name : 'BookshelfRight', x : 28, y : 8};
mappages["blackdragon_int"].features[87] = {name : 'BookshelfRight', x : 30, y : 8};
mappages["blackdragon_int"].features[88] = {name : 'Mirror', x : 31, y : 8};
mappages["blackdragon_int"].features[89] = {name : 'Door', x : 29, y : 13, desc : "magically locked door", locked : 2, keyname : "BlackDragonKey"};
mappages["blackdragon_int"].features[90] = {name : 'Mirror', x : 30, y : 14};
mappages["blackdragon_int"].features[91] = {name : 'RightChair', x : 31, y : 18};
mappages["blackdragon_int"].features[92] = {name : 'RightTable', x : 30, y : 18};
mappages["blackdragon_int"].features[93] = {name : 'LeftTable', x : 29, y : 18};
mappages["blackdragon_int"].features[94] = {name : 'LeftTable', x : 25, y : 21};
mappages["blackdragon_int"].features[95] = {name : 'MiddleTable', x : 26, y : 21};
mappages["blackdragon_int"].features[96] = {name : 'RightTable', x : 27, y : 21};
mappages["blackdragon_int"].features[97] = {name : 'BDCLever', x : 9, y : 27};
mappages["blackdragon_int"].features[98] = {name : 'BookshelfLeft', x : 25, y : 24};
mappages["blackdragon_int"].features[99] = {name : 'BookshelfRight', x : 26, y : 24};
mappages["blackdragon_int"].features[100] = {name : 'BookshelfRight', x : 28, y : 24};
mappages["blackdragon_int"].features[101] = {name : 'BookshelfLeft', x : 27, y : 24};
mappages["blackdragon_int"].features[102] = {name : 'TopChair', x : 26, y : 20};
mappages["blackdragon_int"].features[103] = {name : 'SmallBox', x : 20, y : 37};
mappages["blackdragon_int"].features[104] = {name : 'SmallBox', x : 20, y : 35};
mappages["blackdragon_int"].features[105] = {name : 'SmallBox', x : 20, y : 33};
mappages["blackdragon_int"].features[106] = {name : 'SmallBox', x : 25, y : 33};
mappages["blackdragon_int"].features[107] = {name : 'SmallBox', x : 25, y : 35};
mappages["blackdragon_int"].features[108] = {name : 'SmallBox', x : 25, y : 37};
mappages["blackdragon_int"].features[109] = {name : 'Chest', x : 17, y : 30};
mappages["blackdragon_int"].features[110] = {name : 'Chest', x : 16, y : 30};
mappages["blackdragon_int"].features[111] = {name : 'Chest', x : 16, y : 31};
mappages["blackdragon_int"].features[112] = {name : 'Chest', x : 16, y : 36};
mappages["blackdragon_int"].features[113] = {name : 'Chest', x : 16, y : 37};
mappages["blackdragon_int"].features[114] = {name : 'Chest', x : 17, y : 37};
mappages["blackdragon_int"].features[115] = {name : 'BedHead', x : 25, y : 17};
mappages["blackdragon_int"].features[116] = {name : 'BedFoot', x : 26, y : 17};
mappages["blackdragon_int"].features[117] = {name : 'WallPortcullis', x : 12, y : 38};
mappages["blackdragon_int"].features[118] = {name : 'BedHead', x : 24, y : 30};
mappages["blackdragon_int"].features[119] = {name : 'BedFoot', x : 25, y : 30};
mappages["blackdragon_int"].features[120] = {name : 'SmallBox', x : 23, y : 30};
mappages["blackdragon_int"].features[121] = {name : 'StairUp', x : 25, y : 20, entermap : 'blackdragon_int2', enterx : 25, entery : 20};
mappages["blackdragon_int"].features[122] = {name : 'Tree', x : 11, y : 14};
mappages["blackdragon_int"].features[123] = {name : 'Tree', x : 11, y : 15};
mappages["blackdragon_int"].features[124] = {name : 'Tree', x : 12, y : 15};
mappages["blackdragon_int"].features[125] = {name : 'Tree', x : 13, y : 15};
mappages["blackdragon_int"].features[126] = {name : 'Tree', x : 11, y : 9};
mappages["blackdragon_int"].features[127] = {name : 'AppleTree', x : 12, y : 14};
mappages["blackdragon_int"].features[128] = {name : 'AppleTree', x : 11, y : 13};
mappages["blackdragon_int"].features[129] = {name : 'AppleTree', x : 19, y : 12};
mappages["blackdragon_int"].features[130] = {name : 'AppleTree', x : 17, y : 7};
mappages["blackdragon_int"].features[131] = {name : 'Tree', x : 7, y : 11};
mappages["blackdragon_int"].features[132] = {name : 'Tree', x : 8, y : 6};
mappages["blackdragon_int"].features[133] = {name : 'Tree', x : 39, y : 6};
mappages["blackdragon_int"].features[134] = {name : 'Tree', x : 39, y : 26};
mappages["blackdragon_int"].features[135] = {name : 'Tree', x : 38, y : 39};
mappages["blackdragon_int"].features[136] = {name : 'BlackDragonScale', x : 39, y : 15};
mappages["blackdragon_int"].features[137] = {name : 'PileOfRocks', x : 21, y : 15};
mappages["blackdragon_int"].features[138] = {name : 'PileOfRocks', x : 21, y : 14};
mappages["blackdragon_int"].features[139] = {name : 'PileOfRocks', x : 21, y : 13};
mappages["blackdragon_int"].features[140] = {name : 'PileOfRocks', x : 21, y : 12};
mappages["blackdragon_int"].features[141] = {name : 'PileOfRocks', x : 21, y : 11};
mappages["blackdragon_int"].features[142] = {name : 'PileOfRocks', x : 21, y : 10};
mappages["blackdragon_int"].features[143] = {name : 'PileOfRocks', x : 21, y : 9};
mappages["blackdragon_int"].features[144] = {name : 'PileOfRocks', x : 21, y : 8};
mappages["blackdragon_int"].features[145] = {name : 'PileOfRocks', x : 21, y : 7};
mappages["blackdragon_int"].features[146] = {name : 'PileOfRocks', x : 20, y : 6};
mappages["blackdragon_int"].features[147] = {name : 'PileOfRocks', x : 19, y : 6};
mappages["blackdragon_int"].features[148] = {name : 'PileOfRocks', x : 18, y : 6};
mappages["blackdragon_int"].features[149] = {name : 'PileOfRocks', x : 17, y : 6};
mappages["blackdragon_int"].features[150] = {name : 'PileOfRocks', x : 16, y : 6};
mappages["blackdragon_int"].features[151] = {name : 'PileOfRocks', x : 15, y : 6};
mappages["blackdragon_int"].features[152] = {name : 'PileOfRocks', x : 14, y : 6};
mappages["blackdragon_int"].features[153] = {name : 'PileOfRocks', x : 13, y : 6};
mappages["blackdragon_int"].features[154] = {name : 'PileOfRocks', x : 12, y : 6};
mappages["blackdragon_int"].features[155] = {name : 'PileOfRocks', x : 11, y : 7};
mappages["blackdragon_int"].features[156] = {name : 'PileOfRocks', x : 10, y : 8};
mappages["blackdragon_int"].features[157] = {name : 'PileOfRocks', x : 10, y : 9};
mappages["blackdragon_int"].features[158] = {name : 'PileOfRocks', x : 10, y : 10};
mappages["blackdragon_int"].features[159] = {name : 'PileOfRocks', x : 10, y : 11};
mappages["blackdragon_int"].features[160] = {name : 'PileOfRocks', x : 10, y : 12};
mappages["blackdragon_int"].features[161] = {name : 'PileOfRocks', x : 10, y : 13};
mappages["blackdragon_int"].features[162] = {name : 'PileOfRocks', x : 10, y : 14};
mappages["blackdragon_int"].features[163] = {name : 'PileOfRocks', x : 10, y : 15};
mappages["blackdragon_int"].features[164] = {name : 'PileOfRocks', x : 8, y : 36};
mappages["blackdragon_int"].features[165] = {name : 'FringeCarpetNW', x : 25, y : 14};
mappages["blackdragon_int"].features[166] = {name : 'FringeCarpetN', x : 26, y : 14};
mappages["blackdragon_int"].features[167] = {name : 'FringeCarpetNE', x : 27, y : 14};
mappages["blackdragon_int"].features[168] = {name : 'FringeCarpetC', x : 26, y : 15};
mappages["blackdragon_int"].features[169] = {name : 'FringeCarpetW', x : 25, y : 15};
mappages["blackdragon_int"].features[170] = {name : 'FringeCarpetE', x : 27, y : 15};
mappages["blackdragon_int"].features[171] = {name : 'FringeCarpetSW', x : 25, y : 16};
mappages["blackdragon_int"].features[172] = {name : 'FringeCarpetS', x : 26, y : 16};
mappages["blackdragon_int"].features[173] = {name : 'FringeCarpetSE', x : 27, y : 16};
mappages["blackdragon_int"].features[174] = {name : 'MarblePillar', x : 35, y : 11};
mappages["blackdragon_int"].features[175] = {name : 'MarblePillar', x : 39, y : 11};
mappages["blackdragon_int"].features[176] = {name : 'MarblePillar', x : 39, y : 14};
mappages["blackdragon_int"].features[177] = {name : 'MarblePillar', x : 39, y : 17};
mappages["blackdragon_int"].features[178] = {name : 'MarblePillar', x : 35, y : 14};
mappages["blackdragon_int"].features[179] = {name : 'MarblePillar', x : 35, y : 17};
mappages["blackdragon_int"].features[180] = {name : 'MarblePillar', x : 13, y : 36};
mappages["blackdragon_int"].features[181] = {name : 'MarblePillar', x : 11, y : 36};
mappages["blackdragon_int"].features[182] = {name : 'MarblePillar', x : 11, y : 34};
mappages["blackdragon_int"].features[183] = {name : 'MarblePillar', x : 11, y : 32};
mappages["blackdragon_int"].features[184] = {name : 'MarblePillar', x : 11, y : 30};
mappages["blackdragon_int"].features[185] = {name : 'MarblePillar', x : 13, y : 30};
mappages["blackdragon_int"].features[186] = {name : 'MarblePillar', x : 13, y : 32};
mappages["blackdragon_int"].features[187] = {name : 'MarblePillar', x : 13, y : 34};
mappages["blackdragon_int"].features[188] = {name : 'DoubleBedHead', x : 21, y : 19};
mappages["blackdragon_int"].features[189] = {name : 'DoubleBedFoot', x : 22, y : 19};
mappages["blackdragon_int"].features[190] = {name : 'Brazier', x : 20, y : 30};
mappages["blackdragon_int"].features[191] = {name : 'Fireplace', x : 11, y : 17};
mappages["blackdragon_int"].features[192] = {name : 'Fireplace', x : 11, y : 23};
mappages["blackdragon_int"].features[193] = {name : 'Fireplace', x : 23, y : 17};
mappages["blackdragon_int"].features[194] = {name : 'Fireplace', x : 23, y : 22};
mappages["blackdragon_int"].features[195] = {name : 'Fireplace', x : 26, y : 31};
mappages["blackdragon_int"].features[196] = {name : 'Fireplace', x : 27, y : 33};
mappages["blackdragon_int"].features[197] = {name : 'Spit', x : 37, y : 30};
mappages["blackdragon_int"].features[198] = {name : 'Brazier', x : 37, y : 35};
mappages["blackdragon_int"].features[199] = {name : 'Fireplace', x : 36, y : 24};
mappages["blackdragon_int"].features[200] = {name : 'Fireplace', x : 34, y : 24};
mappages["blackdragon_int"].features[201] = {name : 'Spit', x : 34, y : 28};
mappages["blackdragon_int"].features[202] = {name : 'Brazier', x : 31, y : 12};
mappages["blackdragon_int"].features[203] = {name : 'Fireplace', x : 24, y : 15};
mappages["blackdragon_int"].features[204] = {name : 'TorchWest', x : 33, y : 12};
mappages["blackdragon_int"].features[205] = {name : 'TorchWest', x : 33, y : 15};
mappages["blackdragon_int"].features[206] = {name : 'TorchEast', x : 41, y : 12};
mappages["blackdragon_int"].features[207] = {name : 'TorchEast', x : 41, y : 15};
mappages["blackdragon_int"].features[208] = {name : 'TorchWest', x : 10, y : 31};
mappages["blackdragon_int"].features[209] = {name : 'TorchWest', x : 10, y : 34};
mappages["blackdragon_int"].features[210] = {name : 'TorchEast', x : 14, y : 31};
mappages["blackdragon_int"].features[211] = {name : 'TorchEast', x : 14, y : 34};
mappages["blackdragon_int"].features[212] = {name : 'TorchWest', x : 12, y : 26};
mappages["blackdragon_int"].features[213] = {name : 'Brazier', x : 40, y : 10};
mappages["blackdragon_int"].features[214] = {name : 'Brazier', x : 34, y : 10};
mappages["blackdragon_int"].features[215] = {name : 'TorchWest', x : 30, y : 20};


mappages["blackdragon_int"].npcs = [];
mappages["blackdragon_int"].npcs[0] = {name : 'TownGuardNPC', x : 10, y : 40, NPCName: 'Lumen', Conversation: 'lumen_int', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon_int"].npcs[1] = {name : 'TownGuardNPC', x : 37, y : 17, NPCName: 'Bosku', Conversation: 'bosku_int', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"RedHeadPale"}'};
mappages["blackdragon_int"].npcs[2] = {name : 'TownGuardNPC', x : 11, y : 35, NPCName: 'Dollin', Conversation: 'dollin_int', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon_int"].npcs[3] = {name : 'TownGuardNPC', x : 41, y : 13, NPCName: 'Nessa', Conversation: 'nessa_int', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon_int"].npcs[4] = {name : 'TownGuardNPC', x : 13, y : 35, NPCName: 'Ronan', Conversation: 'ronan_int', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon_int"].npcs[5] = {name : 'TownGuardNPC', x : 34, y : 12, NPCName: 'Lian', Conversation: 'lian_int', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BaldBeardedDark"}'};
mappages["blackdragon_int"].npcs[6] = {name : 'TownGuardNPC', x : 8, y : 34, NPCName: 'Carbry', Conversation: 'carbry_int', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon_int"].npcs[7] = {name : 'TownGuardNPC', x : 24, y : 26, NPCName: 'Aelid', Conversation: 'aelid_int', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon_int"].npcs[8] = {name : 'TownGuardNPC', x : 8, y : 27, NPCName: 'Perick', Conversation: 'perick_int', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BaldBeardedDark"}'};
mappages["blackdragon_int"].npcs[9] = {name : 'TownGuardNPC', x : 33, y : 18, NPCName: 'Oshin', Conversation: 'oshin_int', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"ShortBrownPale"}'};
mappages["blackdragon_int"].npcs[10] = {name : 'PrinceNPC', x : 25, y : 17, NPCName: 'Prince Lance', Conversation: 'lance', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateKnight","head":"PrinceHead","back":"","offhand":"OffhandPale","cloak":"BlueCloak","mainhand":"MainHandPale","realhead":"ShortBlackPale"}'};
mappages["blackdragon_int"].npcs[11] = {name : 'TownGuardNPC', x : 34, y : 20, NPCName: 'Ranlyn', Conversation: 'ranlyn_int', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon_int"].npcs[12] = {name : 'TownGuardNPC', x : 33, y : 16, NPCName: 'Sissott', Conversation: 'sissott_int', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"BrownDark"}'};
mappages["blackdragon_int"].npcs[13] = {name : 'TownGuardNPC', x : 38, y : 10, NPCName: 'Yuan', Conversation: 'yuan_int', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HalberdDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon_int"].npcs[14] = {name : 'TownGuardNPC', x : 38, y : 22, NPCName: 'Joney', Conversation: 'joney_int', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"PlateCheckeredTabard","head":"GoldClosedHelm","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HalberdPale","realhead":"BlondePale"}'};
mappages["blackdragon_int"].npcs[15] = {name : 'TownsfolkVillagerNPC', x : 36, y : 15, NPCName: 'Taran', Desc: 'gardener', Conversation: 'taran_int', ConversationFlag: 'taran', Gender: 'male', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"GreenTunic","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBrownPale"}'};
mappages["blackdragon_int"].npcs[16] = {name : 'TownsfolkVillagerNPC', x : 39, y : 16, NPCName: 'Brad', Desc: 'cook', Conversation: 'brad_int', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"WhiteTunic2","head":"BlondePale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"BlondePale"}'};
mappages["blackdragon_int"].npcs[17] = {name : 'FighterVillagerNPC', x : 38, y : 13, NPCName: 'Nadya', Conversation: 'nadya_int', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"Plate2","head":"ShortBlackDark","back":"","offhand":"OffhandDaggerDark","cloak":"","mainhand":"LongswordDark","realhead":"ShortBlackDark"}'};
mappages["blackdragon_int"].npcs[18] = {name : 'MageVillagerNPC', x : 36, y : 12, NPCName: 'Justice', PCThreatAI: 'RunAway', Conversation: 'justice_int', ConversationFlag: 'justice', Gender: 'female', Bark: '0', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueRobe","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"QuarterstaffPale","realhead":"ShortBlackPale"}'};

mappages["blackdragon_int"].desc = "Black Dragon Castle";
mappages["blackdragon_int"].longdesc = ``;
mappages["blackdragon_int"].music = 'Towne';
mappages["blackdragon_int"].savename = `B Drag Castle`;
mappages["blackdragon_int"].exitmap = 'darkunknown';
mappages["blackdragon_int"].exitx = '49';
mappages["blackdragon_int"].exity = '90';
mappages["blackdragon_int"].wraps = 'None';
mappages["blackdragon_int"].enterx = '10';
mappages["blackdragon_int"].entery = '43';
mappages["blackdragon_int"].seeBelow = '';
mappages["blackdragon_int"].lightLevel = 'cycle';
mappages["blackdragon_int"].alwaysRemember = '0';
mappages["blackdragon_int"].scale = '1';
mappages["blackdragon_int"].underground = '0';
mappages["blackdragon_int"].undergroundDesc = '';
mappages["blackdragon_int"].enterscript = '';
mappages["blackdragon_int"].entertestscript = '';
mappages["blackdragon_int"].exitscript = '';
mappages["blackdragon_int"].exittestscript = '';
mappages["blackdragon_int"].returnmap = 'darkunknown';
mappages["blackdragon_int"].returnx = '69';
mappages["blackdragon_int"].returny = '74';
mappages["blackdragon_int"].returninfused = '0';
mappages["blackdragon_int"].linkedMaps = ["blackdragon_int2","blackdragon_int3","blackdragon_int4"];
mappages["blackdragon_int"].editorLabels = '{"div_tile13x23":"Taran","div_tile20x18":"Nadya","div_tile13x19":"Brad"}';
// MAP ENDS HERE

mappages["blackdragon_int"].onload = function(mapref) {
  mapref.getTile(11,39).getTopFeature().setGraphicArray(["static.gif","",-9*32,-108*32]);
  let gate = mapref.getTile(12,38).getTopFeature();
  gate.unlockMe();
  gate.use();
  mapref.getTile(25,17).getTopNPC().sleep = 1;  // Lance is asleep
}

mappages["blackdragon_int"].maps_exit = function(mapref) {
  mapref.Exit = function(who,tomap,fromx,fromy,tox,toy) {
    if ((tomap.getName() === "darkunknown") || (tomap.getName() === "landsbeyond")) {
      if (DU.gameflags.getFlag("lid_lancenotes") && !PC.checkInventory("LanceRuneNotes")) {
        DU.gameflags.deleteFlag("lid_lancenotes");
      }
    }
  }
}

mappages["blackdragon_int2"] = {};
mappages["blackdragon_int2"].terrain = [];
 mappages["blackdragon_int2"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int2"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon_int2"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon_int2"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL rL sb sb';
mappages["blackdragon_int2"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc sb sb';
mappages["blackdragon_int2"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[16] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[17] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[18] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[19] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## ## ## ## ## ## rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb';
mappages["blackdragon_int2"].terrain[20] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[21] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[22] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[23] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[24] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## +t +t +t +t ## rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[25] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf ## ## ## ## ## ## rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[26] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[27] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[28] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[29] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[30] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[31] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[32] = 'sb sb sb sb sb sb sb rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc rc sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[33] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[34] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[35] = 'sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[36] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[37] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[38] = 'sb sb sb sb sb sb sb sb sb rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf rf sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int2"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon_int2"].features = [];
mappages["blackdragon_int2"].features[0] = {name : 'StairDown', x : 25, y : 20, entermap : 'blackdragon_int', enterx : 25, entery : 20};
mappages["blackdragon_int2"].features[1] = {name : 'PentagramNW', x : 26, y : 22};
mappages["blackdragon_int2"].features[2] = {name : 'PentagramN', x : 27, y : 22};
mappages["blackdragon_int2"].features[3] = {name : 'PentagramNE', x : 28, y : 22};
mappages["blackdragon_int2"].features[4] = {name : 'PentagramE', x : 28, y : 23};
mappages["blackdragon_int2"].features[5] = {name : 'PentagramC', x : 27, y : 23};
mappages["blackdragon_int2"].features[6] = {name : 'PentagramW', x : 26, y : 23};
mappages["blackdragon_int2"].features[7] = {name : 'PentagramSW', x : 26, y : 24};
mappages["blackdragon_int2"].features[8] = {name : 'PentagramS', x : 27, y : 24};
mappages["blackdragon_int2"].features[9] = {name : 'PentagramSE', x : 28, y : 24};
mappages["blackdragon_int2"].features[10] = {name : 'StairUp2', x : 25, y : 21, entermap : 'blackdragon_int3', enterx : 25, entery : 21};
mappages["blackdragon_int2"].features[11] = {name : 'BookshelfOne', x : 28, y : 20};
mappages["blackdragon_int2"].features[12] = {name : 'Chest', x : 27, y : 20};
mappages["blackdragon_int2"].features[13] = {name : 'FireField', x : 25, y : 24};
mappages["blackdragon_int2"].features[14] = {name : 'FireField', x : 28, y : 21};


mappages["blackdragon_int2"].npcs = [];

mappages["blackdragon_int2"].desc = "Black Dragon Castle";
mappages["blackdragon_int2"].longdesc = ``;
mappages["blackdragon_int2"].music = 'Dark Towne';
mappages["blackdragon_int2"].savename = `B Drag Castle`;
mappages["blackdragon_int2"].exitmap = 'darkunknown';
mappages["blackdragon_int2"].exitx = '49';
mappages["blackdragon_int2"].exity = '90';
mappages["blackdragon_int2"].wraps = 'None';
mappages["blackdragon_int2"].enterx = '10';
mappages["blackdragon_int2"].entery = '43';
mappages["blackdragon_int2"].seeBelow = 'blackdragon';
mappages["blackdragon_int2"].lightLevel = 'cycle';
mappages["blackdragon_int2"].alwaysRemember = '0';
mappages["blackdragon_int2"].scale = '1';
mappages["blackdragon_int2"].underground = '0';
mappages["blackdragon_int2"].undergroundDesc = '';
mappages["blackdragon_int2"].enterscript = '';
mappages["blackdragon_int2"].entertestscript = '';
mappages["blackdragon_int2"].exitscript = '';
mappages["blackdragon_int2"].exittestscript = '';
mappages["blackdragon_int2"].returnmap = 'darkunknown';
mappages["blackdragon_int2"].returnx = '69';
mappages["blackdragon_int2"].returny = '74';
mappages["blackdragon_int2"].returninfused = '0';
mappages["blackdragon_int2"].linkedMaps = ["blackdragon_int","blackdragon_int3","blackdragon_int4"];
mappages["blackdragon_int2"].editorLabels = '{}';

mappages["blackdragon_int3"] = {};
mappages["blackdragon_int3"].terrain = [];
 mappages["blackdragon_int3"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int3"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[16] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[17] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[18] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[19] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## #O ## ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[20] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[21] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[22] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb #O +t +t +t +t #O sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[23] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[24] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[25] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## ## #O ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[26] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[27] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[28] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[29] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[30] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[31] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[32] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[33] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[34] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[35] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[36] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[37] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[38] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int3"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon_int3"].features = [];
mappages["blackdragon_int3"].features[0] = {name : 'StairDown2', x : 25, y : 21, entermap : 'blackdragon_int2', enterx : 25, entery : 21};
mappages["blackdragon_int3"].features[1] = {name : 'BedHead', x : 25, y : 24};
mappages["blackdragon_int3"].features[2] = {name : 'BedFoot', x : 26, y : 24};
mappages["blackdragon_int3"].features[3] = {name : 'Mirror', x : 28, y : 20};
mappages["blackdragon_int3"].features[4] = {name : 'Dresser', x : 28, y : 24};
mappages["blackdragon_int3"].features[5] = {name : 'LeftTable', x : 25, y : 22};
mappages["blackdragon_int3"].features[6] = {name : 'RightTable', x : 26, y : 22};
mappages["blackdragon_int3"].features[7] = {name : 'RightChair', x : 27, y : 22};
mappages["blackdragon_int3"].features[8] = {name : 'LadderUp', x : 25, y : 20, entermap : 'blackdragon_int4', enterx : 25, entery : 20};
mappages["blackdragon_int3"].features[9] = {name : 'EnergyField', x : 25, y : 20};



mappages["blackdragon_int3"].npcs = [];

mappages["blackdragon_int3"].desc = "Black Dragon Castle";
mappages["blackdragon_int3"].longdesc = ``;
mappages["blackdragon_int3"].music = 'Dark Towne';
mappages["blackdragon_int3"].savename = `B Drag Castle`;
mappages["blackdragon_int3"].exitmap = 'darkunknown';
mappages["blackdragon_int3"].exitx = '49';
mappages["blackdragon_int3"].exity = '90';
mappages["blackdragon_int3"].wraps = 'None';
mappages["blackdragon_int3"].enterx = '10';
mappages["blackdragon_int3"].entery = '43';
mappages["blackdragon_int3"].seeBelow = 'blackdragon2';
mappages["blackdragon_int3"].lightLevel = 'cycle';
mappages["blackdragon_int3"].alwaysRemember = '0';
mappages["blackdragon_int3"].scale = '1';
mappages["blackdragon_int3"].underground = '0';
mappages["blackdragon_int3"].undergroundDesc = '';
mappages["blackdragon_int3"].enterscript = '';
mappages["blackdragon_int3"].entertestscript = '';
mappages["blackdragon_int3"].exitscript = '';
mappages["blackdragon_int3"].exittestscript = '';
mappages["blackdragon_int3"].returnmap = 'darkunknown';
mappages["blackdragon_int3"].returnx = '69';
mappages["blackdragon_int3"].returny = '74';
mappages["blackdragon_int3"].returninfused = '0';
mappages["blackdragon_int3"].linkedMaps = ["blackdragon_int2","blackdragon_int","blackdragon_int4"];
mappages["blackdragon_int3"].editorLabels = '{}';

mappages["blackdragon_int3"].OrbPulse = function(mapref) {
  mapref.Enter = function(who,frommap,oldx,oldy,destx,desty) {
    if (who === PC) {
      if (who.checkInventory("JusticeOrb")) {
        maintext.addText("The strange blue, crystalline orb you are carrying begins to pulse with a slow, blue light.");
      }
    }
  }
}

mappages["blackdragon_int4"] = {};
mappages["blackdragon_int4"].terrain = [];
 mappages["blackdragon_int4"].terrain[0] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[1] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[2] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[3] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[4] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[5] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[6] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[7] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[8] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
 mappages["blackdragon_int4"].terrain[9] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[10] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[11] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[12] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[13] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[14] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[15] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[16] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[17] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[18] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[19] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## #O ## ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[20] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[21] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[22] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb #O +t +t +t +t #O sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[23] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[24] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## +t +t +t +t ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[25] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb ## ## ## #O ## ## sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[26] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[27] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[28] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[29] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[30] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[31] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[32] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[33] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[34] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[35] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[36] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[37] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[38] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[39] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[40] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[41] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[42] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[43] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';
mappages["blackdragon_int4"].terrain[44] = 'sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb sb';

mappages["blackdragon_int4"].features = [];
mappages["blackdragon_int4"].features[0] = {name : 'LadderDown', x : 25, y : 20, entermap : 'blackdragon_int3', enterx : 25, entery : 20};
mappages["blackdragon_int4"].features[1] = {name : 'Chest', x : 25, y : 23};
mappages["blackdragon_int4"].features[2] = {name : 'Chest', x : 25, y : 24};
mappages["blackdragon_int4"].features[3] = {name : 'Chest', x : 26, y : 24};
mappages["blackdragon_int4"].features[4] = {name : 'BookshelfLeft', x : 27, y : 20};
mappages["blackdragon_int4"].features[5] = {name : 'BookshelfRight', x : 28, y : 20};
mappages["blackdragon_int4"].features[6] = {name : 'BookshelfRight', x : 28, y : 22};
mappages["blackdragon_int4"].features[7] = {name : 'BookshelfLeft', x : 27, y : 22};
mappages["blackdragon_int4"].features[8] = {name : 'UnlitBrazier', x : 28, y : 24};


mappages["blackdragon_int4"].npcs = [];

mappages["blackdragon_int4"].desc = "Black Dragon Castle";
mappages["blackdragon_int4"].longdesc = ``;
mappages["blackdragon_int4"].music = 'Dark Towne';
mappages["blackdragon_int4"].savename = `B Drag Castle`;
mappages["blackdragon_int4"].exitmap = 'darkunknown';
mappages["blackdragon_int4"].exitx = '49';
mappages["blackdragon_int4"].exity = '90';
mappages["blackdragon_int4"].wraps = 'None';
mappages["blackdragon_int4"].enterx = '10';
mappages["blackdragon_int4"].entery = '43';
mappages["blackdragon_int4"].seeBelow = 'blackdragon3';
mappages["blackdragon_int4"].lightLevel = 'cycle';
mappages["blackdragon_int4"].alwaysRemember = '0';
mappages["blackdragon_int4"].scale = '1';
mappages["blackdragon_int4"].underground = '0';
mappages["blackdragon_int4"].undergroundDesc = '';
mappages["blackdragon_int4"].enterscript = '';
mappages["blackdragon_int4"].entertestscript = '';
mappages["blackdragon_int4"].exitscript = '';
mappages["blackdragon_int4"].exittestscript = '';
mappages["blackdragon_int4"].returnmap = 'darkunknown';
mappages["blackdragon_int4"].returnx = '69';
mappages["blackdragon_int4"].returny = '74';
mappages["blackdragon_int4"].returninfused = '0';
mappages["blackdragon_int4"].linkedMaps = ["blackdragon_int2","blackdragon_int3","blackdragon_int"];
mappages["blackdragon_int4"].editorLabels = '{}';

mappages["bdcave"] = {};
mappages["bdcave"].terrain = [];
 mappages["bdcave"].terrain[0] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[1] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[2] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[3] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[4] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[5] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw cf cw cw cw cw cw BK BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[6] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[7] = 'BK BK BK BK BK BK BK BK BK BK BK cw cw cw cf cf cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK BK';
 mappages["bdcave"].terrain[8] = 'BK BK BK BK BK BK BK BK BK cw cw cw cf cf cf cf cf cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK';
 mappages["bdcave"].terrain[9] = 'BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cf cw cw cw cf cf cf cf cf cf cw cw BK BK BK BK BK';
mappages["bdcave"].terrain[10] = 'BK BK BK BK BK BK cw cw cw cf cf cf cf cf cw cw cw BK cw cw cw cf cf cf cf cf cw BK BK BK BK BK';
mappages["bdcave"].terrain[11] = 'BK BK BK BK BK cw cw cf cf cf cf cf cf cf cw BK BK BK BK BK cw cw cf cf cf cf cw BK BK BK BK BK';
mappages["bdcave"].terrain[12] = 'BK BK BK cw cw cw cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK cw cf cf cf cf cw BK BK BK BK BK';
mappages["bdcave"].terrain[13] = 'cw cw cw cw cf cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK BK cw cf cf cf cf cw BK BK BK BK BK';
mappages["bdcave"].terrain[14] = 'cf cf cf cf cf cf cf cf cf cf cw cw cw BK BK BK BK BK BK BK BK cw cf cf cf cf cw BK BK BK BK BK';
mappages["bdcave"].terrain[15] = 'cf cf cf cf cf cf cf cf cw cw cw BK BK BK BK BK BK BK BK BK cw cw cf cf cf cw cw BK BK BK BK BK';
mappages["bdcave"].terrain[16] = 'cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK BK BK BK BK BK cw cf cf cf cf cw BK BK BK BK BK BK';
mappages["bdcave"].terrain[17] = 'cw cw cf cf cw cw cw cw BK BK BK BK BK BK BK BK BK BK BK BK cw cf cf cf cw cw BK BK BK BK BK BK';
mappages["bdcave"].terrain[18] = 'BK cw cw cw cw BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[19] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[20] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw cf cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[21] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[22] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[23] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cf cf cf cf cf cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[24] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cf cf cf cf cf cf cf cf cf cf cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[25] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cf cf cf cf cf cf cf cf cf cw cw BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[26] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cf cf cf cf cf cf cf cf cw BK BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[27] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw cf cf cf cf cf cw cw BK BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[28] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK cw cw cw cw cw cw cw BK BK BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[29] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[30] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["bdcave"].terrain[31] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';

mappages["bdcave"].features = [];
mappages["bdcave"].features[0] = {name : 'Gold', x : 15, y : 22};
mappages["bdcave"].features[1] = {name : 'Gold', x : 15, y : 23};
mappages["bdcave"].features[2] = {name : 'Gold', x : 15, y : 23};
mappages["bdcave"].features[3] = {name : 'Gold', x : 15, y : 24};
mappages["bdcave"].features[4] = {name : 'Gold', x : 15, y : 24};
mappages["bdcave"].features[5] = {name : 'Gold', x : 15, y : 25};
mappages["bdcave"].features[6] = {name : 'Gold', x : 15, y : 25};
mappages["bdcave"].features[7] = {name : 'Gold', x : 15, y : 26};
mappages["bdcave"].features[8] = {name : 'Gold', x : 15, y : 26};
mappages["bdcave"].features[9] = {name : 'Gold', x : 16, y : 26};
mappages["bdcave"].features[10] = {name : 'Gold', x : 16, y : 26};
mappages["bdcave"].features[11] = {name : 'Gold', x : 17, y : 26};
mappages["bdcave"].features[12] = {name : 'Gold', x : 17, y : 26};
mappages["bdcave"].features[13] = {name : 'Gold', x : 17, y : 27};
mappages["bdcave"].features[14] = {name : 'Gold', x : 17, y : 27};
mappages["bdcave"].features[15] = {name : 'Gold', x : 18, y : 27};
mappages["bdcave"].features[16] = {name : 'Gold', x : 18, y : 27};
mappages["bdcave"].features[17] = {name : 'Gold', x : 18, y : 26};
mappages["bdcave"].features[18] = {name : 'Gold', x : 18, y : 26};
mappages["bdcave"].features[19] = {name : 'Gold', x : 18, y : 25};
mappages["bdcave"].features[20] = {name : 'Gold', x : 17, y : 25};
mappages["bdcave"].features[21] = {name : 'Gold', x : 17, y : 25};
mappages["bdcave"].features[22] = {name : 'Gold', x : 17, y : 24};
mappages["bdcave"].features[23] = {name : 'Gold', x : 17, y : 24};
mappages["bdcave"].features[24] = {name : 'Gold', x : 16, y : 24};
mappages["bdcave"].features[25] = {name : 'Gold', x : 16, y : 24};
mappages["bdcave"].features[26] = {name : 'Gold', x : 16, y : 25};
mappages["bdcave"].features[27] = {name : 'Gold', x : 16, y : 25};
mappages["bdcave"].features[28] = {name : 'Gold', x : 14, y : 23};
mappages["bdcave"].features[29] = {name : 'Gold', x : 14, y : 24};
mappages["bdcave"].features[30] = {name : 'Gold', x : 14, y : 24};
mappages["bdcave"].features[31] = {name : 'Gold', x : 14, y : 25};
mappages["bdcave"].features[32] = {name : 'Gold', x : 14, y : 25};
mappages["bdcave"].features[33] = {name : 'Chest', x : 15, y : 24, locked : 0, lootgroup : 'Level6', lootedid : 'bdcave2'};
mappages["bdcave"].features[34] = {name : 'Chest', x : 16, y : 25, locked : 0, lootgroup : 'Level6', lootedid : 'bdcave3'};
mappages["bdcave"].features[35] = {name : 'Chest', x : 15, y : 23, locked : 0, lootgroup : 'Level6', lootedid : 'bdcave1'};
mappages["bdcave"].features[36] = {name : 'OrbIntelligence', x : 14, y : 25};


mappages["bdcave"].npcs = [];
mappages["bdcave"].npcs[0] = {name : 'DaemonNPC', x : 23, y : 10, skintone: '1'};

mappages["bdcave"].desc = "Small Cave";
mappages["bdcave"].longdesc = 'As you step into the cave, you are assailed by a strong psychic assault. Nightmare images flutter against your mind for what must be only moments, and then are gone, and the feeling passes. This is not, it seems, a place where you are welcome.';
mappages["bdcave"].music = 'Cave';
mappages["bdcave"].savename = `Small Cave`;
mappages["bdcave"].exitmap = 'darkunknown';
mappages["bdcave"].exitx = '47';
mappages["bdcave"].exity = '74';
mappages["bdcave"].wraps = '';
mappages["bdcave"].enterx = '65';
mappages["bdcave"].entery = '70';
mappages["bdcave"].seeBelow = '';
mappages["bdcave"].lightLevel = 'dark';
mappages["bdcave"].alwaysRemember = '0';
mappages["bdcave"].scale = '1';
mappages["bdcave"].underground = '0';
mappages["bdcave"].undergroundDesc = '';
mappages["bdcave"].enterscript = '';
mappages["bdcave"].entertestscript = '';
mappages["bdcave"].exitscript = '';
mappages["bdcave"].exittestscript = '';
mappages["bdcave"].returnmap = 'darkunknown';
mappages["bdcave"].returnx = '47';
mappages["bdcave"].returny = '74';
mappages["bdcave"].returninfused = '0';
mappages["bdcave"].linkedMaps = [""];
mappages["bdcave"].editorLabels = '{}';

mappages["bdcave"].onload = function(mapref) {
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    let visited = 0;
    if (DU.gameflags.getFlag("lid_bdcave1") || DU.gameflags.getFlag("lid_bdcave2") || DU.gameflags.getFlag("lid_bdcave3")) {
      visited = 1;
    }
    let fea = mapref.features.getAll();
    for (let i=0;i<fea.length;i++) {
      if (fea[i].getName() === "Gold") {
        if (visited) {
          mapref.deleteThing(fea[i]);
        } else {
          fea[i].setQuantity(Dice.roll("10d10"));
        }
      }
    }
  }
}

mappages["justice_battle"] = {};
mappages["justice_battle"].terrain = [];
 mappages["justice_battle"].terrain[0] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["justice_battle"].terrain[1] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["justice_battle"].terrain[2] = 'BK BK BK BK BK BK p* p* p* BK BK BK BK BK BK';
 mappages["justice_battle"].terrain[3] = 'BK BK BK BK BK p* p* p* p* p* BK BK BK BK BK';
 mappages["justice_battle"].terrain[4] = 'BK BK BK BK p* p* p* p* p* p* p* BK BK BK BK';
 mappages["justice_battle"].terrain[5] = 'BK BK BK p* p* p* p* p* p* p* p* p* BK BK BK';
 mappages["justice_battle"].terrain[6] = 'BK BK p* p* p* p* p* p* p* p* p* p* p* BK BK';
 mappages["justice_battle"].terrain[7] = 'BK BK p* p* p* p* p* p* p* p* p* p* p* BK BK';
 mappages["justice_battle"].terrain[8] = 'BK BK p* p* p* p* p* p* p* p* p* p* p* BK BK';
 mappages["justice_battle"].terrain[9] = 'BK BK BK p* p* p* p* p* p* p* p* p* BK BK BK';
mappages["justice_battle"].terrain[10] = 'BK BK BK BK p* p* p* p* p* p* p* BK BK BK BK';
mappages["justice_battle"].terrain[11] = 'BK BK BK BK BK p* p* p* p* p* BK BK BK BK BK';
mappages["justice_battle"].terrain[12] = 'BK BK BK BK BK BK p* p* p* BK BK BK BK BK BK';
mappages["justice_battle"].terrain[13] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["justice_battle"].terrain[14] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';

mappages["justice_battle"].features = [];
mappages["justice_battle"].features[0] = {name : 'EnergyField', x : 6, y : 2};
mappages["justice_battle"].features[1] = {name : 'EnergyField', x : 7, y : 2};
mappages["justice_battle"].features[2] = {name : 'EnergyField', x : 7, y : 2};
mappages["justice_battle"].features[3] = {name : 'EnergyField', x : 8, y : 2};
mappages["justice_battle"].features[4] = {name : 'EnergyField', x : 8, y : 2};
mappages["justice_battle"].features[5] = {name : 'EnergyField', x : 8, y : 3};
mappages["justice_battle"].features[6] = {name : 'EnergyField', x : 9, y : 3};
mappages["justice_battle"].features[7] = {name : 'EnergyField', x : 9, y : 3};
mappages["justice_battle"].features[8] = {name : 'EnergyField', x : 9, y : 4};
mappages["justice_battle"].features[9] = {name : 'EnergyField', x : 10, y : 4};
mappages["justice_battle"].features[10] = {name : 'EnergyField', x : 10, y : 5};
mappages["justice_battle"].features[11] = {name : 'EnergyField', x : 11, y : 5};
mappages["justice_battle"].features[12] = {name : 'EnergyField', x : 11, y : 6};
mappages["justice_battle"].features[13] = {name : 'EnergyField', x : 12, y : 6};
mappages["justice_battle"].features[14] = {name : 'EnergyField', x : 12, y : 7};
mappages["justice_battle"].features[15] = {name : 'EnergyField', x : 12, y : 8};
mappages["justice_battle"].features[16] = {name : 'EnergyField', x : 11, y : 8};
mappages["justice_battle"].features[17] = {name : 'EnergyField', x : 11, y : 9};
mappages["justice_battle"].features[18] = {name : 'EnergyField', x : 10, y : 9};
mappages["justice_battle"].features[19] = {name : 'EnergyField', x : 10, y : 10};
mappages["justice_battle"].features[20] = {name : 'EnergyField', x : 9, y : 10};
mappages["justice_battle"].features[21] = {name : 'EnergyField', x : 9, y : 11};
mappages["justice_battle"].features[22] = {name : 'EnergyField', x : 8, y : 11};
mappages["justice_battle"].features[23] = {name : 'EnergyField', x : 8, y : 12};
mappages["justice_battle"].features[24] = {name : 'EnergyField', x : 7, y : 12};
mappages["justice_battle"].features[25] = {name : 'EnergyField', x : 6, y : 12};
mappages["justice_battle"].features[26] = {name : 'EnergyField', x : 6, y : 11};
mappages["justice_battle"].features[27] = {name : 'EnergyField', x : 5, y : 11};
mappages["justice_battle"].features[28] = {name : 'EnergyField', x : 4, y : 10};
mappages["justice_battle"].features[29] = {name : 'EnergyField', x : 5, y : 10};
mappages["justice_battle"].features[30] = {name : 'EnergyField', x : 4, y : 9};
mappages["justice_battle"].features[31] = {name : 'EnergyField', x : 3, y : 9};
mappages["justice_battle"].features[32] = {name : 'EnergyField', x : 3, y : 8};
mappages["justice_battle"].features[33] = {name : 'EnergyField', x : 2, y : 8};
mappages["justice_battle"].features[34] = {name : 'EnergyField', x : 2, y : 7};
mappages["justice_battle"].features[35] = {name : 'EnergyField', x : 2, y : 6};
mappages["justice_battle"].features[36] = {name : 'EnergyField', x : 3, y : 6};
mappages["justice_battle"].features[37] = {name : 'EnergyField', x : 3, y : 5};
mappages["justice_battle"].features[38] = {name : 'EnergyField', x : 4, y : 5};
mappages["justice_battle"].features[39] = {name : 'EnergyField', x : 4, y : 4};
mappages["justice_battle"].features[40] = {name : 'EnergyField', x : 5, y : 4};
mappages["justice_battle"].features[41] = {name : 'EnergyField', x : 5, y : 3};
mappages["justice_battle"].features[42] = {name : 'EnergyField', x : 6, y : 3};
mappages["justice_battle"].features[43] = {name : 'FireField', x : 5, y : 5};
mappages["justice_battle"].features[44] = {name : 'FireField', x : 9, y : 5};
mappages["justice_battle"].features[45] = {name : 'FireField', x : 9, y : 9};
mappages["justice_battle"].features[46] = {name : 'FireField', x : 5, y : 9};
mappages["justice_battle"].features[47] = {name : 'BlueCrystal', x : 7, y : 3};
mappages["justice_battle"].features[48] = {name : 'BlueCrystal', x : 3, y : 7};
mappages["justice_battle"].features[49] = {name : 'BlueCrystal', x : 5, y : 7};
mappages["justice_battle"].features[50] = {name : 'BlueCrystal', x : 6, y : 7};
mappages["justice_battle"].features[51] = {name : 'BlueCrystal', x : 7, y : 7};
mappages["justice_battle"].features[52] = {name : 'BlueCrystal', x : 7, y : 6};
mappages["justice_battle"].features[53] = {name : 'BlueCrystal', x : 7, y : 8};
mappages["justice_battle"].features[54] = {name : 'BlueCrystal', x : 8, y : 7};
mappages["justice_battle"].features[55] = {name : 'BlueCrystal', x : 9, y : 7};
mappages["justice_battle"].features[56] = {name : 'BlueCrystal', x : 11, y : 7};
mappages["justice_battle"].features[57] = {name : 'BlueCrystal', x : 7, y : 11};


mappages["justice_battle"].npcs = [];
mappages["justice_battle"].npcs[0] = {name : 'CrystalBarrierNPC', x : 6, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[1] = {name : 'CrystalBarrierNPC', x : 7, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[2] = {name : 'CrystalBarrierNPC', x : 8, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[3] = {name : 'CrystalBarrierNPC', x : 9, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[4] = {name : 'CrystalBarrierNPC', x : 5, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[5] = {name : 'CrystalBarrierNPC', x : 7, y : 6, skintone: '1'};
mappages["justice_battle"].npcs[6] = {name : 'CrystalBarrierNPC', x : 7, y : 8, skintone: '1'};
mappages["justice_battle"].npcs[7] = {name : 'CrystalBarrierNPC', x : 11, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[8] = {name : 'CrystalBarrierNPC', x : 7, y : 3, skintone: '1'};
mappages["justice_battle"].npcs[9] = {name : 'CrystalBarrierNPC', x : 7, y : 11, skintone: '1'};
mappages["justice_battle"].npcs[10] = {name : 'CrystalBarrierNPC', x : 3, y : 7, skintone: '1'};
mappages["justice_battle"].npcs[11] = {name : 'JusticeNPC', x : 7, y : 5, skintone: '1'};

mappages["justice_battle"].desc = "Unknown!";
mappages["justice_battle"].longdesc = ``;
mappages["justice_battle"].music = 'Combat';
mappages["justice_battle"].savename = `Unknown`;
mappages["justice_battle"].exitmap = '';
mappages["justice_battle"].exitx = '65';
mappages["justice_battle"].exity = '70';
mappages["justice_battle"].wraps = '';
mappages["justice_battle"].enterx = '65';
mappages["justice_battle"].entery = '70';
mappages["justice_battle"].seeBelow = '';
mappages["justice_battle"].lightLevel = 'bright';
mappages["justice_battle"].alwaysRemember = '0';
mappages["justice_battle"].scale = '1';
mappages["justice_battle"].underground = '0';
mappages["justice_battle"].undergroundDesc = '';
mappages["justice_battle"].enterscript = '';
mappages["justice_battle"].entertestscript = '';
mappages["justice_battle"].exitscript = '';
mappages["justice_battle"].exittestscript = '';
mappages["justice_battle"].returnmap = 'blackdragon';
mappages["justice_battle"].returnx = '26';
mappages["justice_battle"].returny = '22';
mappages["justice_battle"].returninfused = '0';
mappages["justice_battle"].linkedMaps = [""];
mappages["justice_battle"].editorLabels = '{}';

mappages["justice_battle"].onload = function(mapref) {
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    let crystal = mapref.getTile(7,7).getTopNPC();
    crystal.lootTable = "justicecrystal";
    let justice = mapref.getTile(7,5).getTopNPC();
    justice.setMana(35);
  }
}