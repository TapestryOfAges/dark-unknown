mappages["pitdespair1"] = {};
mappages["pitdespair1"].terrain = [];
 mappages["pitdespair1"].terrain[0] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[1] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[2] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[3] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[4] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[5] = 'BK BK BK BK BK BK BK ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[6] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! -= -= -= -= -= -= -= -= -= -= -= -= -= -= ## -= -= -= ## BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[7] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! -= -= -= -= -= -= -= -= -= -= -= -= -= -= ## -= -= -= ## BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[8] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! -= -= -= -= -= -= -= -= -= -= -= -= -= -= ## -= -= -= ## BK BK BK BK BK BK BK BK';
 mappages["pitdespair1"].terrain[9] = 'BK BK BK BK BK BK BK ## -= -= -= -= !! !! !! ## ## ## ## ## -= ## ## ## ## ## !! !! !! -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[10] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[11] = 'BK BK BK BK BK BK BK ## ## ## ## ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[12] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[13] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[14] = 'BK BK BK BK BK BK BK ## -= -= -= -= !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[15] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[16] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[17] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= ## -= -= -= -= -= ## -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[18] = 'BK BK BK BK BK BK BK ## ## ## ## ## !! !! !! ## ## ## ## ## ## ## ## ## ## ## !! !! !! ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[19] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[20] = 'BK BK BK BK BK BK BK ## -= -= -= -= !! !! !! -= -= -= -= ## -= -= -= -= -= -= !! !! !! -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[21] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[22] = 'BK BK BK BK BK BK BK ## ## ## ## ## !! !! !! ## ## ## ## ## ## ## ## ## ## ## !! !! !! ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[23] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[24] = 'BK BK BK BK BK BK BK ## -= -= -= -= !! !! !! -= -= -= -= ## -= -= -= -= -= -= !! !! !! -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[25] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[26] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## ## ## ## ## ## ## ## ## ## ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[27] = 'BK BK BK BK BK BK BK ## ## ## ## ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[28] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! -= -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[29] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= -= !! !! !! -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[30] = 'BK BK BK BK BK BK BK ## -= -= -= ## !! !! !! ## -= -= -= ## -= -= -= -= -= ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[31] = 'BK BK BK BK BK BK BK ## -= -= -= -= !! !! !! ## ## ## ## ## ## ## ## ## ## ## !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[32] = 'BK BK BK BK BK BK BK ## -= -= -= ## -= -= -= -= -= -= -= -= -= -= -= -= -= -= !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[33] = 'BK BK BK BK BK BK BK ## -= -= -= ## -= -= -= -= -= -= -= -= -= -= -= -= -= -= !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[34] = 'BK BK BK BK BK BK BK ## -= -= -= ## -= -= -= -= -= -= -= -= -= -= -= -= -= -= !! !! !! ## -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[35] = 'BK BK BK BK BK BK BK ## ## ## ## ## -= -= -= -= -= -= -= -= -= -= -= -= -= -= !! !! !! ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[36] = 'BK BK BK BK BK BK BK ## -= -= -= ## ## ## -= ## ## ## ## ## ## -= ## ## ## ## ## -= ## ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[37] = 'BK BK BK BK BK BK BK ## -= -= -= ## -= -= -= -= -= ## -= -= -= -= -= -= -= ## -= -= -= -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[38] = 'BK BK BK BK BK BK BK ## -= -= -= ## -= -= -= -= -= ## -= -= -= -= -= -= -= ## -= -= -= -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[39] = 'BK BK BK BK BK BK BK ## -= -= -= -= -= -= -= -= -= ## -= -= -= -= -= -= -= ## -= -= -= -= -= -= -= ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[40] = 'BK BK BK BK BK BK BK ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## ## BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[41] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[42] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[43] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[44] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[45] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';
mappages["pitdespair1"].terrain[46] = 'BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK BK';

mappages["pitdespair1"].features = [];
mappages["pitdespair1"].features[0] = {name : 'LadderUp', x : 8, y : 19, entermap : 'darkunknown', enterx : 117, entery : 76};
mappages["pitdespair1"].features[1] = {name : 'Door', x : 11, y : 20, desc : "locked door", locked : 1};
mappages["pitdespair1"].features[2] = {name : 'LadderDown', x : 16, y : 21, entermap : 'null', enterx : 0, entery : 0};
mappages["pitdespair1"].features[3] = {name : 'Door', x : 15, y : 20, desc : "locked door", locked : 1};
mappages["pitdespair1"].features[4] = {name : 'Door', x : 20, y : 9};
mappages["pitdespair1"].features[5] = {name : 'WallPortcullis', x : 11, y : 9, locked : 1};
mappages["pitdespair1"].features[6] = {name : 'WallPortcullis', x : 11, y : 14, locked : 1};
mappages["pitdespair1"].features[7] = {name : 'WallPortcullis', x : 11, y : 31, locked : 1};
mappages["pitdespair1"].features[8] = {name : 'WallPortcullis', x : 27, y : 36, locked : 1};
mappages["pitdespair1"].features[9] = {name : 'WallPortcullis', x : 29, y : 24, locked : 1};
mappages["pitdespair1"].features[10] = {name : 'WallPortcullis', x : 25, y : 24, locked : 1};
mappages["pitdespair1"].features[11] = {name : 'WallPortcullis', x : 25, y : 29, locked : 1};
mappages["pitdespair1"].features[12] = {name : 'WallPortcullis', x : 29, y : 20, locked : 1};
mappages["pitdespair1"].features[13] = {name : 'WallPortcullis', x : 29, y : 9, locked : 1};
mappages["pitdespair1"].features[14] = {name : 'WallPortcullis', x : 29, y : 14, locked : 1};
mappages["pitdespair1"].features[15] = {name : 'WallPortcullis', x : 29, y : 29};
mappages["pitdespair1"].features[16] = {name : 'WallPortcullis', x : 21, y : 36};
mappages["pitdespair1"].features[17] = {name : 'WallPortcullis', x : 11, y : 24};
mappages["pitdespair1"].features[18] = {name : 'WallPortcullis', x : 25, y : 20};
mappages["pitdespair1"].features[19] = {name : 'WallPortcullis', x : 15, y : 24};
mappages["pitdespair1"].features[20] = {name : 'WallPortcullis', x : 15, y : 28};
mappages["pitdespair1"].features[21] = {name : 'PitDespairLever', x : 18, y : 14};
mappages["pitdespair1"].features[22] = {name : 'PitDespairLever', x : 18, y : 16};
mappages["pitdespair1"].features[23] = {name : 'PitDespairLever', x : 20, y : 17};
mappages["pitdespair1"].features[24] = {name : 'PitDespairLever', x : 22, y : 17};
mappages["pitdespair1"].features[25] = {name : 'PitDespairLever', x : 18, y : 11};
mappages["pitdespair1"].features[26] = {name : 'PitDespairLever', x : 18, y : 13};
mappages["pitdespair1"].features[27] = {name : 'PitDespairLever', x : 18, y : 15};
mappages["pitdespair1"].features[28] = {name : 'PitDespairLever', x : 22, y : 10};
mappages["pitdespair1"].features[29] = {name : 'PitDespairLever', x : 22, y : 12};
mappages["pitdespair1"].features[30] = {name : 'PitDespairLever', x : 22, y : 14};
mappages["pitdespair1"].features[31] = {name : 'PitDespairLever', x : 18, y : 17};
mappages["pitdespair1"].features[32] = {name : 'PitDespairLever', x : 22, y : 16};
mappages["pitdespair1"].features[33] = {name : 'PitDespairLever', x : 22, y : 15};
mappages["pitdespair1"].features[34] = {name : 'PitDespairLever', x : 22, y : 13};
mappages["pitdespair1"].features[35] = {name : 'PitDespairLever', x : 22, y : 11};
mappages["pitdespair1"].features[36] = {name : 'PitDespairLever', x : 18, y : 12};
mappages["pitdespair1"].features[37] = {name : 'Door', x : 14, y : 36, desc : "locked door", locked : 1};
mappages["pitdespair1"].features[38] = {name : 'Doorway', x : 11, y : 39};
mappages["pitdespair1"].features[39] = {name : 'ExecutionersHood', x : 20, y : 19};
mappages["pitdespair1"].features[40] = {name : 'Chest', x : 8, y : 36, lootgroup : '', lootedid : ''};
mappages["pitdespair1"].features[41] = {name : 'Chest', x : 9, y : 36, lootgroup : '', lootedid : ''};
mappages["pitdespair1"].features[42] = {name : 'Chest', x : 10, y : 36, lootgroup : '', lootedid : ''};
mappages["pitdespair1"].features[43] = {name : 'BottomChairWood', x : 15, y : 39};
mappages["pitdespair1"].features[44] = {name : 'BookshelfOne', x : 12, y : 37};
mappages["pitdespair1"].features[45] = {name : 'LeftTable', x : 14, y : 38};
mappages["pitdespair1"].features[46] = {name : 'MiddleTable', x : 15, y : 38};
mappages["pitdespair1"].features[47] = {name : 'RightTable', x : 16, y : 38};

mappages["pitdespair1"].npcs = [];
mappages["pitdespair1"].npcs[0] = {name : 'SlimeNPC', x : 8, y : 23};
mappages["pitdespair1"].npcs[1] = {name : 'SlimeNPC', x : 9, y : 24};
mappages["pitdespair1"].npcs[2] = {name : 'SlimeNPC', x : 8, y : 26};
mappages["pitdespair1"].npcs[3] = {name : 'SlimeNPC', x : 10, y : 26};
mappages["pitdespair1"].npcs[4] = {name : 'SlimeNPC', x : 21, y : 20};
mappages["pitdespair1"].npcs[5] = {name : 'SlimeNPC', x : 22, y : 19};
mappages["pitdespair1"].npcs[6] = {name : 'SlimeNPC', x : 22, y : 21};
mappages["pitdespair1"].npcs[7] = {name : 'SlimeNPC', x : 23, y : 21};
mappages["pitdespair1"].npcs[8] = {name : 'SlimeNPC', x : 24, y : 19};
mappages["pitdespair1"].npcs[9] = {name : 'GiantInsectsNPC', x : 24, y : 20};
mappages["pitdespair1"].npcs[10] = {name : 'GiantInsectsNPC', x : 24, y : 21};
mappages["pitdespair1"].npcs[11] = {name : 'GiantInsectsNPC', x : 17, y : 23};
mappages["pitdespair1"].npcs[12] = {name : 'GiantInsectsNPC', x : 18, y : 24};
mappages["pitdespair1"].npcs[13] = {name : 'GiantInsectsNPC', x : 16, y : 25};
mappages["pitdespair1"].npcs[14] = {name : 'GiantRatNPC', x : 16, y : 28};
mappages["pitdespair1"].npcs[15] = {name : 'GiantRatNPC', x : 17, y : 28};
mappages["pitdespair1"].npcs[16] = {name : 'GiantRatNPC', x : 17, y : 29};
mappages["pitdespair1"].npcs[17] = {name : 'GiantRatNPC', x : 18, y : 30};
mappages["pitdespair1"].npcs[18] = {name : 'GiantRatNPC', x : 18, y : 27};
mappages["pitdespair1"].npcs[19] = {name : 'HoodNPC', x : 19, y : 11};
mappages["pitdespair1"].npcs[20] = {name : 'HoodNPC', x : 20, y : 11};
mappages["pitdespair1"].npcs[21] = {name : 'HoodNPC', x : 21, y : 12};
mappages["pitdespair1"].npcs[22] = {name : 'RogueNPC', x : 20, y : 13};
mappages["pitdespair1"].npcs[23] = {name : 'RogueNPC', x : 19, y : 14};
mappages["pitdespair1"].npcs[24] = {name : 'RogueNPC', x : 21, y : 14};
mappages["pitdespair1"].npcs[25] = {name : 'GiantBatNPC', x : 30, y : 29};
mappages["pitdespair1"].npcs[26] = {name : 'GiantBatNPC', x : 31, y : 28};
mappages["pitdespair1"].npcs[27] = {name : 'GiantBatNPC', x : 32, y : 30};
mappages["pitdespair1"].npcs[28] = {name : 'GiantBatNPC', x : 30, y : 31};
mappages["pitdespair1"].npcs[29] = {name : 'GiantBatNPC', x : 31, y : 32};
mappages["pitdespair1"].npcs[30] = {name : 'GiantBatNPC', x : 20, y : 37};
mappages["pitdespair1"].npcs[31] = {name : 'GiantBatNPC', x : 19, y : 38};
mappages["pitdespair1"].npcs[32] = {name : 'GiantBatNPC', x : 20, y : 39};
mappages["pitdespair1"].npcs[33] = {name : 'GiantRatNPC', x : 22, y : 37};
mappages["pitdespair1"].npcs[34] = {name : 'GiantRatNPC', x : 23, y : 38};
mappages["pitdespair1"].npcs[35] = {name : 'GiantRatNPC', x : 22, y : 39};

mappages["pitdespair1"].desc = "Pit of Despair 1";
mappages["pitdespair1"].music = 'Dungeon';
mappages["pitdespair1"].exitmap = 'darkunknown';
mappages["pitdespair1"].exitx = '65';
mappages["pitdespair1"].exity = '70';
mappages["pitdespair1"].wraps = 'None';
mappages["pitdespair1"].enterx = '65';
mappages["pitdespair1"].entery = '70';
mappages["pitdespair1"].seeBelow = '';
mappages["pitdespair1"].lightLevel = 'dark';
mappages["pitdespair1"].alwaysRemember = '0';
mappages["pitdespair1"].scale = '1';
mappages["pitdespair1"].enterscript = '';
mappages["pitdespair1"].entertestscript = '';
mappages["pitdespair1"].exitscript = '';
mappages["pitdespair1"].exittestscript = '';
mappages["pitdespair1"].returnmap = 'darkunknown';
mappages["pitdespair1"].returnx = '117';
mappages["pitdespair1"].returny = '76';
mappages["pitdespair1"].returninfused = '0';
mappages["pitdespair1"].linkedMaps = [""];


// the following two functions add a quest key to two of the doors,
// so they auto-unlock if you are holding it
mappages["pitdespair1"].onload = function(mapref) {

  var doortile = mapref.getTile(11,20);
  var door = doortile.getTopFeature();
  PDChangeUse(door);
    
  doortile = mapref.getTile(15,20);
  door = doortile.getTopFeature();
  PDChangeUse(door);

  doortile = mapref.getTile(14,36);
  door = doortile.getTopFeature();
  PDChangeUse(door);
    
  if (gamestate.getMode() !== "loadgame") {
    var ports = [];
    doortile = mapref.getTile(11,24);
    ports[0] = doortile.getTopFeature();
    doortile = mapref.getTile(15,24);
    ports[1] = doortile.getTopFeature();
    doortile = mapref.getTile(15,28);
    ports[2] = doortile.getTopFeature();
    doortile = mapref.getTile(21,36);
    ports[3] = doortile.getTopFeature();
    doortile = mapref.getTile(29,29);
    ports[4] = doortile.getTopFeature();
    doortile = mapref.getTile(25,20);
    ports[5] = doortile.getTopFeature();

    $.each(ports, function(idx,val) {
      val.setGraphicArray(["055.gif", "wall-arch.gif", 0, 0]);
			
			val.closedLOS = val.getBlocksLOSArray();
			var seethru = [];
			seethru[0] = 0;
			val.setBlocksLOSArray(seethru);
			
			val.addPassable(MOVE_WALK);
      val.open = 1;
    });
    
    doortile = mapref.getTile(18,11);
    var lever = doortile.getTopFeature();
    lever.attached = { x: 11, y:9 };
    doortile = mapref.getTile(18,12);
    lever = doortile.getTopFeature();
    lever.attached = { x: 11, y:14 };
    doortile = mapref.getTile(18,13);
    lever = doortile.getTopFeature();
    lever.attached = { x: 11, y:24 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(18,14);
    lever = doortile.getTopFeature();
    lever.attached = { x: 15, y:24 };
    doortile = mapref.getTile(18,15);
    lever = doortile.getTopFeature();
    lever.attached = { x: 11, y:31 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(18,16);
    lever = doortile.getTopFeature();
    lever.attached = { x: 15, y:28 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(18,17);
    lever = doortile.getTopFeature();
    lever.attached = { x: 21, y:36 };
    doortile = mapref.getTile(20,17);
    lever = doortile.getTopFeature();
    lever.attached = { x: 27, y:36 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(22,17);
    lever = doortile.getTopFeature();
    lever.attached = { x: 25, y:29 };
    doortile = mapref.getTile(22,16);
    lever = doortile.getTopFeature();
    lever.attached = { x: 29, y:29 };
    doortile = mapref.getTile(22,15);
    lever = doortile.getTopFeature();
    lever.attached = { x: 25, y:24 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(22,14);
    lever = doortile.getTopFeature();
    lever.attached = { x: 29, y:24 };
    doortile = mapref.getTile(22,13);
    lever = doortile.getTopFeature();
    lever.attached = { x: 25, y:20 };
    doortile = mapref.getTile(22,12);
    lever = doortile.getTopFeature();
    lever.attached = { x: 29, y:20 };
    lever.graphic = "switch-on.gif";
    lever.overlay = "switch-on.gif";
    doortile = mapref.getTile(22,11);
    lever = doortile.getTopFeature();
    lever.attached = { x: 29, y:14 };
    doortile = mapref.getTile(22,10);
    lever = doortile.getTopFeature();
    lever.attached = { x: 29, y:9 };
    
  }
}

function PDChangeUse(obj) {
  obj.realuse = obj.use;
  obj.use = function(user) {
    var retval = {};

    if (user.inventory.getByName("PitOfDespairKey")) {
      obj.unlockMe();
    }
    
    retval = obj.realuse(user);
    return retval;
  }
}
