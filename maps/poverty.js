"use strict";

// MAP BEGINS HERE
mappages["poverty"] = {};
mappages["poverty"].terrain = [];
 mappages["poverty"].terrain[0] = 'ww ww ww ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww ww ww ww ww';
 mappages["poverty"].terrain[1] = 'ww ww ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww ww ww';
 mappages["poverty"].terrain[2] = 'ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww';
 mappages["poverty"].terrain[3] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww';
 mappages["poverty"].terrain[4] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww';
 mappages["poverty"].terrain[5] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu /. -- -- -- -- -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww';
 mappages["poverty"].terrain[6] = 'uu uu uu uu uu uu /. -- -- -- -- -- -- -- -- .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty"].terrain[7] = 'uu uu uu /. -- -- .. .. .. .. .. ,, .. .. .. .. .. .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty"].terrain[8] = 'uu /. -- .. .. .. .. .. .. ,, .. .. .. .. .. .. .. ., ., ., .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty"].terrain[9] = '-- .. .. ,, .. .. .. .. .. .. .. .. .. .. .. .. .. .. ., .. .. .. .. .. .. .. .. .. -- -- -- .` uu uu uu uu uu uu uu uu';
mappages["poverty"].terrain[10] = '.. .. .. .. .. ., ., .. .. .. .. .. ., .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. ,, .. .. .. -- .` uu uu uu uu uu uu';
mappages["poverty"].terrain[11] = '.. .. .. ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. .. .. .. .. .. ,, ,, ,, ,, .. .. .. .. .. .. .. .` uu uu uu uu uu';
mappages["poverty"].terrain[12] = '.. .. .. ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, ,, .. .. .. .. -- .` uu /. --';
mappages["poverty"].terrain[13] = '.. .. ., ., ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. !# !# ., ., ., ., ., ., !# .. ,, .. .. .. .. .. .. .. -- .. ,,';
mappages["poverty"].terrain[14] = '.. .. ., ., ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. #I ., ., -= -= -= -= -= !# .. ,, .. .. ,, .. .. .. .. .. .. ..';
mappages["poverty"].terrain[15] = '.. .. ., ., ., ., ., ., ., .. .. .. .. ., ., .. .. .. .. ., ., ., -= -= -= -= -= #I .. .. .. .. .. .. .. .. .. .. !# ..';
mappages["poverty"].terrain[16] = '.. .. ., ., ., ., ., ., ., .. .. .. .. .. ., ., .. .. .. !# ., ., -= -= -= -= -= !# .. .. ,, .. .. .. .. .. .. .. .. ..';
mappages["poverty"].terrain[17] = '.. .. .. ., ., ., ., ., ., .. .. .. .. ., ., ., .. .. .. !# ., ., -= -= -= -= -= #i .. .. .. .. .. .. .. .. .. .. !# ..';
mappages["poverty"].terrain[18] = '.. .. .. .. ., .. .. .. .. .. .. .. ., ., ., ., .. .. .. ., ., ., -= -= -= -= -= !# .. .. .. .. .. .. .. .. .. .. !# ..';
mappages["poverty"].terrain[19] = '.. .. .. .. .. .. .. .. .. .. ,, .. ., ., ., ., .. .. .. #i ., ., -= -= -= -= -= !# .. .. ff ff .. .. .. .. .. .. .. ..';
mappages["poverty"].terrain[20] = '.. .. .. .. .. .. .. .. .. .. .. .. .. ., ., .. .. .. .. !# !# ., ., ., ., ., ., !# .. .. ff .. .. .. .. .. .. ,, .. ..';
mappages["poverty"].terrain[21] = '.. .. FF FF FF FF FF FF FF FF .. .. .. ., ., ., .. .. .. .. .. .. .. .. .. .. .. .. .. ff ff .. .. ff .. .. .. .. .. ..';
mappages["poverty"].terrain[22] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., .. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. .. .. ff .. ff .. .. .. ..';
mappages["poverty"].terrain[23] = '.. .. FF gF gF gF gF gF gF FF .. .. .. .. ., ., .. .. .. ## ## ## ## #O ## ## ## ## .. ff ff .. .. .. ff .. ff .. .. ..';
mappages["poverty"].terrain[24] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., ., .. .. .. ## !! !! !! !! !! !! !! ## .. ff .. .. .. .. .. .. .. .. ff ..';
mappages["poverty"].terrain[25] = '.. .. FF FF FF FF FF FF FF FF .. .. ., ., ., .. .. .. .. !! !! !! !! !! !! !! !! #O .. .. .. ff .. .. ff .. .. .. ff ff';
mappages["poverty"].terrain[26] = '.. .. FF gF gF gF gF gF gF FF .. .. ., ., ., ., ., .. .. ## !! !! !! !! !! !! !! ## .. .. .. .. .. .. .. .. ff .. .. ..';
mappages["poverty"].terrain[27] = '.. .. FF gF gF gF gF gF gF FF .. .. ., ., ., ., ., .. .. #O !! !! !! !! !! !! !! #O .. .. ff .. .. .. .. .. .. .. ff ..';
mappages["poverty"].terrain[28] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., ., .. .. .. ## !! !! !! !! !! !! !! ## .. ff ff ff .. ff ff ff .. .. ff ..';
mappages["poverty"].terrain[29] = '.. .. FF FF FF FF FF FF FF FF .. .. .. ., ., ., ., .. .. ## ## ## ## #O ## ## ## ## .. ff .. ff .. ff ff ff .. .. .. ..';
mappages["poverty"].terrain[30] = '.. .. .. .. .. .. .. .. .. .. .. .. ., ., ., ., ., .. .. .. .. .. .. .. .. .. .. .. ff ff .. ff .. .. ff .. .. ff .. ..';
mappages["poverty"].terrain[31] = '.. .. .. .. .. .. .. .. ,, .. .. .. ., ., ., ., ., ., .. .. .. .. ,, ,, .. .. .. .. .. ff ff .. .. .. .. ff .. ff .. ff';
mappages["poverty"].terrain[32] = '.. ,, .. .. ,, ,, .. .. ,, .. .. .. ., ., ., ., ., .. .. .. .. .. ,, .. .. ,, .. .. .. .. .. .. .. ff .. .. .. .. .. ..';
mappages["poverty"].terrain[33] = '.. .. .. .. .. ,, .. .. .. .. .. .. .. ., ., ., ., .. .. ,, .. ,, .. .. .. .. .. .. ff ff .. ff .. .. ff .. .. .. ff ..';
mappages["poverty"].terrain[34] = '.. .. .. .. .. .. .. .. .. .. .. .. ., ., ., ., ., .. .. .. .. .. .. .. .. .. .. ff ff ff ff .. .. .. .. .. .. ff .. ..';

mappages["poverty"].features = [];
mappages["poverty"].features[0] = {name : 'Door', x : 19, y : 25};
mappages["poverty"].features[1] = {name : 'BookshelfLeft', x : 21, y : 24};
mappages["poverty"].features[2] = {name : 'BookshelfRight', x : 22, y : 24};
mappages["poverty"].features[3] = {name : 'BookshelfLeft', x : 25, y : 24};
mappages["poverty"].features[4] = {name : 'BookshelfRight', x : 26, y : 24};
mappages["poverty"].features[5] = {name : 'BedHead', x : 25, y : 26};
mappages["poverty"].features[6] = {name : 'BedHead', x : 25, y : 28};
mappages["poverty"].features[7] = {name : 'BedFoot', x : 26, y : 26};
mappages["poverty"].features[8] = {name : 'BedFoot', x : 26, y : 28};
mappages["poverty"].features[9] = {name : 'LeftTable', x : 21, y : 26};
mappages["poverty"].features[10] = {name : 'MiddleTable', x : 22, y : 26};
mappages["poverty"].features[11] = {name : 'RightTable', x : 23, y : 26};
mappages["poverty"].features[12] = {name : 'BottomChair', x : 22, y : 27};
mappages["poverty"].features[13] = {name : 'TopChair', x : 24, y : 24};
mappages["poverty"].features[14] = {name : 'BedHead', x : 25, y : 14};
mappages["poverty"].features[15] = {name : 'BedHead', x : 25, y : 16};
mappages["poverty"].features[16] = {name : 'BedHead', x : 25, y : 18};
mappages["poverty"].features[17] = {name : 'BedHead', x : 22, y : 15};
mappages["poverty"].features[18] = {name : 'BedHead', x : 22, y : 17};
mappages["poverty"].features[19] = {name : 'BedHead', x : 22, y : 19};
mappages["poverty"].features[20] = {name : 'BedFoot', x : 26, y : 14};
mappages["poverty"].features[21] = {name : 'BedFoot', x : 23, y : 15};
mappages["poverty"].features[22] = {name : 'BedFoot', x : 26, y : 16};
mappages["poverty"].features[23] = {name : 'BedFoot', x : 23, y : 17};
mappages["poverty"].features[24] = {name : 'BedFoot', x : 26, y : 18};
mappages["poverty"].features[25] = {name : 'BedFoot', x : 23, y : 19};
mappages["poverty"].features[26] = {name : 'RuinsWallMidLeftMidRight', x : 4, y : 20};
mappages["poverty"].features[27] = {name : 'RuinsWallMidLeftMidRight', x : 5, y : 20};
mappages["poverty"].features[28] = {name : 'RuinsWallMidLeftMidRight', x : 6, y : 20};
mappages["poverty"].features[29] = {name : 'RuinsWallMidLeftBottomRight', x : 7, y : 20};
mappages["poverty"].features[30] = {name : 'RuinsWallBottomLeftMidRight', x : 3, y : 20};
mappages["poverty"].features[31] = {name : 'RuinsWallBottomLeftMidRight', x : 34, y : 14};
mappages["poverty"].features[32] = {name : 'RuinsWallMidLeftMidRight', x : 35, y : 14};
mappages["poverty"].features[33] = {name : 'RuinsWallMidLeftMidRight', x : 36, y : 14};
mappages["poverty"].features[34] = {name : 'RuinsWallMidLeftBottomRight', x : 37, y : 14};
mappages["poverty"].features[35] = {name : 'RuinsWallMidLeftTallRight', x : 37, y : 18};
mappages["poverty"].features[36] = {name : 'RuinsWallMidLeftMidRight', x : 36, y : 18};
mappages["poverty"].features[37] = {name : 'RuinsWallMidLeftMidRight', x : 35, y : 18};
mappages["poverty"].features[38] = {name : 'RuinsWallBottomLeftMidRight', x : 34, y : 18};
mappages["poverty"].features[39] = {name : 'PileOfRocks', x : 5, y : 10};
mappages["poverty"].features[40] = {name : 'PileOfRocks', x : 8, y : 11};
mappages["poverty"].features[41] = {name : 'PileOfRocks', x : 9, y : 14};
mappages["poverty"].features[42] = {name : 'PileOfRocks', x : 8, y : 17};
mappages["poverty"].features[43] = {name : 'PileOfRocks', x : 4, y : 18};
mappages["poverty"].features[44] = {name : 'PileOfRocks', x : 2, y : 15};
mappages["poverty"].features[45] = {name : 'PileOfRocks', x : 3, y : 11};
mappages["poverty"].features[46] = {name : 'PileOfRocks', x : 17, y : 6};
mappages["poverty"].features[47] = {name : 'PileOfRocks', x : 19, y : 6};
mappages["poverty"].features[48] = {name : 'PileOfRocks', x : 21, y : 8};
mappages["poverty"].features[49] = {name : 'PileOfRocks', x : 15, y : 8};
mappages["poverty"].features[50] = {name : 'PileOfRocks', x : 16, y : 10};
mappages["poverty"].features[51] = {name : 'PileOfRocks', x : 18, y : 11};
mappages["poverty"].features[52] = {name : 'PileOfRocks', x : 20, y : 10};
mappages["poverty"].features[53] = {name : 'RuinsWallMidLeftMidRight', x : 22, y : 13};
mappages["poverty"].features[54] = {name : 'RuinsWallMidLeftBottomRight', x : 23, y : 13};
mappages["poverty"].features[55] = {name : 'RuinsWallTallLeftMidRight', x : 21, y : 13};
mappages["poverty"].features[56] = {name : 'RuinsWallBottomLeftMidRight', x : 22, y : 20};
mappages["poverty"].features[57] = {name : 'RuinsWallMidLeftMidRight', x : 23, y : 20};
mappages["poverty"].features[58] = {name : 'RuinsWallMidLeftMidRight', x : 24, y : 20};
mappages["poverty"].features[59] = {name : 'RuinsWallMidLeftBottomRight', x : 25, y : 20};
mappages["poverty"].features[60] = {name : 'RuinsWallBottomLeftMidRight', x : 25, y : 13};
mappages["poverty"].features[61] = {name : 'RuinsWallMidLeftTallRight', x : 26, y : 13};
mappages["poverty"].features[62] = {name : 'RuinsWallBottomLeftBottomRight', x : 38, y : 14};
mappages["poverty"].features[63] = {name : 'SleepField', x : 20, y : 28};
mappages["poverty"].features[64] = {name : 'Campfire', x : 5, y : 14};
mappages["poverty"].features[65] = {name : 'Brazier', x : 20, y : 24};
mappages["poverty"].features[66] = {name : 'Campfire', x : 20, y : 14};


mappages["poverty"].npcs = [];
mappages["poverty"].npcs[0] = {name : 'DruidVillagerNPC', x : 23, y : 25, NPCName: 'Jennifer', Desc: 'herbalist', PeaceAI: 'scheduled', PCThreatAI: 'RunAway', Schedule: 'jennifer', Conversation: 'jennifer', Gender: 'female', Leash: 2, NPCBand: '0', skintone: 1, wornlayers: '{"body":"GreenRobe","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"SerpentStaffPale","realhead":"ShortBlackPale"}'};
mappages["poverty"].npcs[1] = {name : 'TownsfolkVillagerNPC', x : 24, y : 27, NPCName: 'Brooke', Desc: 'apprentice', PeaceAI: 'scheduled', Schedule: 'brooke', Conversation: 'brooke', Gender: 'female', Leash: 2, NPCBand: '0', skintone: 2, wornlayers: '{"body":"GreenTunic","head":"BrownDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"MainHandDark","realhead":"BrownDark"}'};
mappages["poverty"].npcs[2] = {name : 'MageVillagerNPC', x : 17, y : 8, NPCName: 'Ivan', PeaceAI: 'scheduled', Schedule: 'ivan', Conversation: 'ivan', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueRobePlain","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"QuarterstaffPale","realhead":"ShortBrownPale"}'};
mappages["poverty"].npcs[3] = {name : 'RangerVillagerNPC', x : 19, y : 8, NPCName: 'Steadman', Desc: 'hunter', PeaceAI: 'scheduled', Schedule: 'steadman', Conversation: 'steadman', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"LeatherArmor","head":"BrownDark","back":"Quiver","offhand":"OffhandDark","cloak":"","mainhand":"BowDark","realhead":"BrownDark"}'};
mappages["poverty"].npcs[4] = {name : 'TownGuardNPC', x : 12, y : 20, NPCName: 'Arthur', PeaceAI: 'scheduled', Schedule: 'arthur', Conversation: 'arthur', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"Plate2","head":"BaldBeardedDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"AxeDark","realhead":"BaldBeardedDark"}'};
mappages["poverty"].npcs[5] = {name : 'BardVillagerNPC', x : 7, y : 12, NPCName: 'Kelly', Desc: 'mayor', PeaceAI: 'scheduled', Schedule: 'kelly', Conversation: 'kelly', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"OrangeTunic2","head":"BlondePale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"BlondePale"}'};
mappages["poverty"].npcs[6] = {name : 'AdventurerVillagerNPC', x : 5, y : 16, NPCName: 'Damien', Desc: 'farmer', PeaceAI: 'scheduled', PCThreatAI: 'RunAway', Schedule: 'damien', Conversation: 'damien', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueTunic","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBrownPale"}'};
mappages["poverty"].npcs[7] = {name : 'TownsfolkVillagerNPC', x : 4, y : 12, NPCName: 'Garth', Desc: 'unkempt man', Prefix: 'an', PeaceAI: 'scheduled', Schedule: 'garth', Conversation: 'garth', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"WhiteTunic","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBlackPale"}'};
mappages["poverty"].npcs[8] = {name : 'TownsfolkVillagerNPC', x : 10, y : 15, NPCName: 'Anna', Desc: 'young woman', PeaceAI: 'scheduled', Schedule: 'anna_poverty', Conversation: 'anna', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"WhiteTunic2","head":"BrownDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"MainHandDark","realhead":"BrownDark"}'};

mappages["poverty"].desc = "Village of Poverty";
mappages["poverty"].longdesc = ``;
mappages["poverty"].music = 'Village';
mappages["poverty"].savename = `Poverty`;
mappages["poverty"].exitmap = 'darkunknown';
mappages["poverty"].exitx = '41';
mappages["poverty"].exity = '27';
mappages["poverty"].wraps = '';
mappages["poverty"].enterx = '14';
mappages["poverty"].entery = '33';
mappages["poverty"].seeBelow = '';
mappages["poverty"].lightLevel = 'cycle';
mappages["poverty"].alwaysRemember = '0';
mappages["poverty"].scale = '1';
mappages["poverty"].underground = '0';
mappages["poverty"].undergroundDesc = '';
mappages["poverty"].enterscript = '';
mappages["poverty"].entertestscript = '';
mappages["poverty"].exitscript = '';
mappages["poverty"].exittestscript = '';
mappages["poverty"].returnmap = 'darkunknown';
mappages["poverty"].returnx = '69';
mappages["poverty"].returny = '74';
mappages["poverty"].returninfused = '0';
mappages["poverty"].linkedMaps = [""];
mappages["poverty"].editorLabels = '{}';
// MAP ENDS HERE

mappages["poverty"].onload = function(mapref) {
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    let npcs = mapref.npcs.getAll();
    if (!DU.gameflags.getFlag("anna_return")) { 
      let anna;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getNPCName() === "Anna") { anna = npcs[i]; }
      }
      if (anna) {
        mapref.deleteThing(anna);
        DUTime.removeEntityFrom(anna);
      }
    } else {
      let brooke;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getNPCName() === "Brooke") { brooke = npcs[i]; }
      }
      if (brooke) {
        brooke.setSchedule("brooke2");
        let loc = DU.schedules["brooke2"].getNPCLocationByTime(GetClockTime(), 1, 1, mapref, brooke);
        mapref.moveThing(loc.x,loc.y,brooke);
        let brooketile = mapref.getTile(loc.x,loc.y);
        brooketile.executeWalkons(brooke);
        brooke.startx = loc.x;
        brooke.starty = loc.y
      }
    }
  }
}


// MAP BEGINS HERE
mappages["poverty2"] = {};
mappages["poverty2"].terrain = [];
 mappages["poverty2"].terrain[0] = 'ww ww ww ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww ww ww ww ww';
 mappages["poverty2"].terrain[1] = 'ww ww ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww ww ww';
 mappages["poverty2"].terrain[2] = 'ww uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww';
 mappages["poverty2"].terrain[3] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww ww ww ww ww';
 mappages["poverty2"].terrain[4] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww ww ww ww';
 mappages["poverty2"].terrain[5] = 'uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu /. -- -- -- -- -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu ww ww';
 mappages["poverty2"].terrain[6] = 'uu uu uu uu uu uu /. -- -- -- -- -- -- -- -- .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty2"].terrain[7] = 'uu uu uu /. -- -- .. .. .. .. .. ,, .. .. .. .. .. .. .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty2"].terrain[8] = 'uu /. -- .. .. .. .. .. .. ,, .. .. .. .. .. .. .. ., ., ., .. .. .. .. .. .. -- .` uu uu uu uu uu uu uu uu uu uu uu uu';
 mappages["poverty2"].terrain[9] = '-- .. .. ,, .. .. .. .. .. .. .. .. .. .. .. .. .. .. ., .. .. .. .. .. .. .. .. .. -- -- -- .` uu uu uu uu uu uu uu uu';
mappages["poverty2"].terrain[10] = '.. .. .. .. .. ., ., .. .. .. .. .. ., .. .. .. .. .. .. .. .. .. .. .. .. ,, .. .. ,, .. .. .. -- .` uu uu uu uu uu uu';
mappages["poverty2"].terrain[11] = '.. .. .. ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. .. .. .. .. .. ,, ,, ,, ,, .. .. .. .. .. .. .. .` uu uu uu uu uu';
mappages["poverty2"].terrain[12] = '.. .. .. ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ,, ,, .. .. .. .. -- .` uu /. --';
mappages["poverty2"].terrain[13] = '.. .. ., ., ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. !# !# !# !# !# !# !# !# !# .. ,, .. .. .. .. .. .. .. -- .. ,,';
mappages["poverty2"].terrain[14] = '.. .. ., ., ., ., ., ., ., ., .. .. .. ., ., .. .. .. .. !# -= -= -= -= -= -= -= !# .. ,, .. .. ,, .. .. .. .. !# !# ..';
mappages["poverty2"].terrain[15] = '.. .. ., ., ., ., ., ., ., .. .. .. .. ., ., .. .. .. .. -= -= -= -= -= -= -= -= !# .. .. .. .. .. .. .. .. -= -= !# ..';
mappages["poverty2"].terrain[16] = '.. .. ., ., ., ., ., ., ., .. .. .. .. .. ., ., .. .. .. !# -= -= -= -= -= -= -= !# .. .. ,, .. .. .. .. .. -= -= !# ..';
mappages["poverty2"].terrain[17] = '.. .. .. ., ., ., ., ., ., .. .. .. .. ., ., ., .. .. .. !# -= -= -= -= -= -= -= !# .. .. .. .. .. .. .. .. -= -= !# ..';
mappages["poverty2"].terrain[18] = '.. .. .. .. ., .. .. .. .. .. .. .. ., ., ., ., .. .. .. -= -= -= -= -= -= -= -= !# .. .. .. .. .. .. .. .. !# !# !# ..';
mappages["poverty2"].terrain[19] = '.. .. .. .. .. .. .. .. .. .. ,, .. ., ., ., ., .. .. .. !# -= -= -= -= -= -= -= !# .. .. ff ff .. .. .. .. .. .. .. ..';
mappages["poverty2"].terrain[20] = '.. .. .. .. .. .. .. .. .. .. .. .. .. ., ., .. .. .. .. !# !# !# !# !# !# !# !# !# .. .. ff .. .. .. .. .. .. ,, .. ..';
mappages["poverty2"].terrain[21] = '.. .. FF FF FF FF FF FF FF FF .. .. .. ., ., ., .. .. .. .. .. .. .. .. .. .. .. .. .. ff ff .. .. ff .. .. .. .. .. ..';
mappages["poverty2"].terrain[22] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., .. .. .. .. .. .. .. .. .. ,, .. .. .. .. .. .. .. .. ff .. ff .. .. .. ..';
mappages["poverty2"].terrain[23] = '.. .. FF gF gF gF gF gF gF FF .. .. .. .. ., ., .. .. .. ## ## ## ## #O ## ## ## ## .. ff ff .. .. .. ff .. ff .. .. ..';
mappages["poverty2"].terrain[24] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., ., .. .. .. ## !! !! !! !! !! !! !! ## .. ff .. .. .. .. .. .. .. .. ff ..';
mappages["poverty2"].terrain[25] = '.. .. FF FF FF FF FF FF FF FF .. .. ., ., ., .. .. .. .. !! !! !! !! !! !! !! !! #O .. .. .. ff .. .. ff .. .. .. ff ff';
mappages["poverty2"].terrain[26] = '.. .. FF gF gF gF gF gF gF FF .. .. ., ., ., ., ., .. .. ## !! !! !! !! !! !! !! ## .. .. .. .. .. .. .. .. ff .. .. ..';
mappages["poverty2"].terrain[27] = '.. .. FF gF gF gF gF gF gF FF .. .. ., ., ., ., ., .. .. #O !! !! !! !! !! !! !! #O .. .. ff .. .. .. .. .. .. .. ff ..';
mappages["poverty2"].terrain[28] = '.. .. FF gF gF gF gF gF gF FF .. .. .. ., ., ., .. .. .. ## !! !! !! !! !! !! !! ## .. ff ff ff .. ff ff ff .. .. ff ..';
mappages["poverty2"].terrain[29] = '.. .. FF FF FF FF FF FF FF FF .. .. .. ., ., ., ., .. .. ## ## ## ## #O ## ## ## ## .. ff .. ff .. ff ff ff .. .. .. ..';
mappages["poverty2"].terrain[30] = '.. .. .. .. .. .. .. .. .. .. .. .. ., ., ., ., ., .. .. .. .. .. .. .. .. .. .. .. ff ff .. ff .. .. ff .. .. ff .. ..';
mappages["poverty2"].terrain[31] = '.. .. .. .. .. .. .. .. ,, .. .. .. ., ., ., ., ., ., .. .. .. .. ,, ,, .. .. .. .. .. ff ff .. .. .. .. ff .. ff .. ff';
mappages["poverty2"].terrain[32] = '.. ,, .. .. ,, ,, .. .. ,, .. .. .. ., ., ., ., ., .. .. .. .. .. ,, .. .. ,, .. .. .. .. .. .. .. ff .. .. .. .. .. ..';
mappages["poverty2"].terrain[33] = '.. .. .. .. .. ,, .. .. .. .. .. .. .. ., ., ., ., .. .. ,, .. ,, .. .. .. .. .. .. ff ff .. ff .. .. ff .. .. .. ff ..';
mappages["poverty2"].terrain[34] = '.. .. .. .. .. .. .. .. .. .. .. .. ., ., ., ., ., .. .. .. .. .. .. .. .. .. .. ff ff ff ff .. .. .. .. .. .. ff .. ..';

mappages["poverty2"].features = [];
mappages["poverty2"].features[0] = {name : 'Door', x : 19, y : 25};
mappages["poverty2"].features[1] = {name : 'BookshelfLeft', x : 21, y : 24};
mappages["poverty2"].features[2] = {name : 'BookshelfRight', x : 22, y : 24};
mappages["poverty2"].features[3] = {name : 'BookshelfLeft', x : 25, y : 24};
mappages["poverty2"].features[4] = {name : 'BookshelfRight', x : 26, y : 24};
mappages["poverty2"].features[5] = {name : 'BedHead', x : 25, y : 26};
mappages["poverty2"].features[6] = {name : 'BedHead', x : 25, y : 28};
mappages["poverty2"].features[7] = {name : 'BedFoot', x : 26, y : 26};
mappages["poverty2"].features[8] = {name : 'BedFoot', x : 26, y : 28};
mappages["poverty2"].features[9] = {name : 'LeftTable', x : 21, y : 26};
mappages["poverty2"].features[10] = {name : 'MiddleTable', x : 22, y : 26};
mappages["poverty2"].features[11] = {name : 'RightTable', x : 23, y : 26};
mappages["poverty2"].features[12] = {name : 'BottomChair', x : 22, y : 27};
mappages["poverty2"].features[13] = {name : 'TopChair', x : 24, y : 24};
mappages["poverty2"].features[14] = {name : 'BedHead', x : 25, y : 14};
mappages["poverty2"].features[15] = {name : 'BedHead', x : 25, y : 16};
mappages["poverty2"].features[16] = {name : 'BedHead', x : 25, y : 18};
mappages["poverty2"].features[17] = {name : 'BedHead', x : 22, y : 15};
mappages["poverty2"].features[18] = {name : 'BedHead', x : 22, y : 17};
mappages["poverty2"].features[19] = {name : 'BedHead', x : 22, y : 19};
mappages["poverty2"].features[20] = {name : 'BedFoot', x : 26, y : 14};
mappages["poverty2"].features[21] = {name : 'BedFoot', x : 23, y : 15};
mappages["poverty2"].features[22] = {name : 'BedFoot', x : 26, y : 16};
mappages["poverty2"].features[23] = {name : 'BedFoot', x : 23, y : 17};
mappages["poverty2"].features[24] = {name : 'BedFoot', x : 26, y : 18};
mappages["poverty2"].features[25] = {name : 'BedFoot', x : 23, y : 19};
mappages["poverty2"].features[26] = {name : 'RuinsWallBottomLeftMidRight', x : 34, y : 14};
mappages["poverty2"].features[27] = {name : 'RuinsWallMidLeftMidRight', x : 35, y : 14};
mappages["poverty2"].features[28] = {name : 'RuinsWallBottomLeftMidRight', x : 34, y : 18};
mappages["poverty2"].features[29] = {name : 'RuinsWallMidLeftTallRight', x : 36, y : 14};
mappages["poverty2"].features[30] = {name : 'RuinsWallMidLeftTallRight', x : 35, y : 18};
mappages["poverty2"].features[31] = {name : 'BedHead', x : 36, y : 15};
mappages["poverty2"].features[32] = {name : 'BedHead', x : 36, y : 17};
mappages["poverty2"].features[33] = {name : 'BedFoot', x : 37, y : 15};
mappages["poverty2"].features[34] = {name : 'BedFoot', x : 37, y : 17};
mappages["poverty2"].features[35] = {name : 'FenceSE', x : 1, y : 20};
mappages["poverty2"].features[36] = {name : 'FenceSW', x : 10, y : 20};
mappages["poverty2"].features[37] = {name : 'FenceEW', x : 2, y : 20};
mappages["poverty2"].features[38] = {name : 'FenceEW', x : 3, y : 20};
mappages["poverty2"].features[39] = {name : 'FenceEW', x : 4, y : 20};
mappages["poverty2"].features[40] = {name : 'FenceEW', x : 5, y : 20};
mappages["poverty2"].features[41] = {name : 'FenceEW', x : 6, y : 20};
mappages["poverty2"].features[42] = {name : 'FenceEW', x : 7, y : 20};
mappages["poverty2"].features[43] = {name : 'FenceEW', x : 8, y : 20};
mappages["poverty2"].features[44] = {name : 'FenceEW', x : 9, y : 20};
mappages["poverty2"].features[45] = {name : 'PileOfRocks', x : 5, y : 10};
mappages["poverty2"].features[46] = {name : 'PileOfRocks', x : 8, y : 11};
mappages["poverty2"].features[47] = {name : 'PileOfRocks', x : 9, y : 14};
mappages["poverty2"].features[48] = {name : 'PileOfRocks', x : 8, y : 17};
mappages["poverty2"].features[49] = {name : 'PileOfRocks', x : 4, y : 18};
mappages["poverty2"].features[50] = {name : 'PileOfRocks', x : 2, y : 15};
mappages["poverty2"].features[51] = {name : 'PileOfRocks', x : 3, y : 11};
mappages["poverty2"].features[52] = {name : 'PileOfRocks', x : 17, y : 6};
mappages["poverty2"].features[53] = {name : 'PileOfRocks', x : 19, y : 6};
mappages["poverty2"].features[54] = {name : 'PileOfRocks', x : 21, y : 8};
mappages["poverty2"].features[55] = {name : 'PileOfRocks', x : 15, y : 8};
mappages["poverty2"].features[56] = {name : 'PileOfRocks', x : 16, y : 10};
mappages["poverty2"].features[57] = {name : 'PileOfRocks', x : 18, y : 11};
mappages["poverty2"].features[58] = {name : 'PileOfRocks', x : 20, y : 10};
mappages["poverty2"].features[59] = {name : 'SleepField', x : 20, y : 28};
mappages["poverty2"].features[60] = {name : 'Campfire', x : 5, y : 14};
mappages["poverty2"].features[61] = {name : 'Brazier', x : 20, y : 24};
mappages["poverty2"].features[62] = {name : 'Brazier', x : 20, y : 14};
mappages["poverty2"].features[63] = {name : 'Brazier', x : 20, y : 19};


mappages["poverty2"].npcs = [];
mappages["poverty2"].npcs[0] = {name : 'DruidVillagerNPC', x : 23, y : 25, NPCName: 'Jennifer', Desc: 'herbalist', PeaceAI: 'scheduled', PCThreatAI: 'RunAway', Schedule: 'jennifer', Conversation: 'jennifer', Gender: 'female', Leash: 2, NPCBand: '0', skintone: 1, wornlayers: '{"body":"GreenRobe","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"SerpentStaffPale","realhead":"ShortBlackPale"}'};
mappages["poverty2"].npcs[1] = {name : 'TownsfolkVillagerNPC', x : 24, y : 27, NPCName: 'Brooke', Desc: 'apprentice', PeaceAI: 'scheduled', Schedule: 'brooke', Conversation: 'brooke', Gender: 'female', Leash: 2, NPCBand: '0', skintone: 2, wornlayers: '{"body":"GreenTunic","head":"BrownDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"MainHandDark","realhead":"BrownDark"}'};
mappages["poverty2"].npcs[2] = {name : 'MageVillagerNPC', x : 17, y : 8, NPCName: 'Ivan', PeaceAI: 'scheduled', Schedule: 'ivan', Conversation: 'ivan', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueRobePlain","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"QuarterstaffPale","realhead":"ShortBrownPale"}'};
mappages["poverty2"].npcs[3] = {name : 'RangerVillagerNPC', x : 19, y : 8, NPCName: 'Steadman', Desc: 'hunter', PeaceAI: 'scheduled', Schedule: 'steadman', Conversation: 'steadman', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"LeatherArmor","head":"BrownDark","back":"Quiver","offhand":"OffhandDark","cloak":"","mainhand":"BowDark","realhead":"BrownDark"}'};
mappages["poverty2"].npcs[4] = {name : 'TownGuardNPC', x : 12, y : 20, NPCName: 'Arthur', PeaceAI: 'scheduled', Schedule: 'arthur', Conversation: 'arthur', Gender: 'male', NPCBand: '0', skintone: 2, wornlayers: '{"body":"Plate2","head":"BaldBeardedDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"AxeDark","realhead":"BaldBeardedDark"}'};
mappages["poverty2"].npcs[5] = {name : 'BardVillagerNPC', x : 7, y : 12, NPCName: 'Kelly', Desc: 'mayor', PeaceAI: 'scheduled', Schedule: 'kelly', Conversation: 'kelly', Gender: 'female', NPCBand: '0', skintone: 1, wornlayers: '{"body":"OrangeTunic2","head":"BlondePale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"BlondePale"}'};
mappages["poverty2"].npcs[6] = {name : 'AdventurerVillagerNPC', x : 5, y : 16, NPCName: 'Damien', Desc: 'farmer', PeaceAI: 'scheduled', PCThreatAI: 'RunAway', Schedule: 'damien', Conversation: 'damien', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"BlueTunic","head":"ShortBrownPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBrownPale"}'};
mappages["poverty2"].npcs[7] = {name : 'TownsfolkVillagerNPC', x : 4, y : 12, NPCName: 'Garth', PeaceAI: 'scheduled', Schedule: 'garth', Conversation: 'garth', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"WhiteTunic","head":"ShortBlackPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"MainHandPale","realhead":"ShortBlackPale"}'};
mappages["poverty2"].npcs[8] = {name : 'TownsfolkVillagerNPC', x : 10, y : 15, NPCName: 'Anna', PeaceAI: 'scheduled', Schedule: 'anna_poverty', Conversation: 'anna', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"WhiteTunic2","head":"BrownDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"MainHandDark","realhead":"BrownDark"}'};
mappages["poverty2"].npcs[9] = {name : 'TinkerVillagerNPC', x : 21, y : 12, NPCName: 'Katie', Desc: 'builder', Schedule: 'katie', Conversation: 'katie', Gender: 'female', NPCBand: '0', skintone: 2, wornlayers: '{"body":"LeatherArmor","head":"ShortBlackDark","back":"","offhand":"OffhandDark","cloak":"","mainhand":"HammerDark","realhead":"ShortBlackDark"}'};
mappages["poverty2"].npcs[10] = {name : 'TinkerVillagerNPC', x : 25, y : 12, NPCName: 'Brennan', Desc: 'builder', Schedule: 'brennan', Conversation: 'brennan', Gender: 'male', NPCBand: '0', skintone: 1, wornlayers: '{"body":"LeatherArmor","head":"RedHeadPale","back":"","offhand":"OffhandPale","cloak":"","mainhand":"HammerPale","realhead":"RedHeadPale"}'};

mappages["poverty2"].desc = "Village of Poverty";
mappages["poverty2"].longdesc = ``;
mappages["poverty2"].music = 'Village';
mappages["poverty2"].savename = `Poverty`;
mappages["poverty2"].exitmap = 'darkunknown';
mappages["poverty2"].exitx = '41';
mappages["poverty2"].exity = '26';
mappages["poverty2"].wraps = '';
mappages["poverty2"].enterx = '14';
mappages["poverty2"].entery = '33';
mappages["poverty2"].seeBelow = '';
mappages["poverty2"].lightLevel = 'cycle';
mappages["poverty2"].alwaysRemember = '0';
mappages["poverty2"].scale = '1';
mappages["poverty2"].underground = '0';
mappages["poverty2"].undergroundDesc = '';
mappages["poverty2"].enterscript = '';
mappages["poverty2"].entertestscript = '';
mappages["poverty2"].exitscript = '';
mappages["poverty2"].exittestscript = '';
mappages["poverty2"].returnmap = 'darkunknown';
mappages["poverty2"].returnx = '69';
mappages["poverty2"].returny = '74';
mappages["poverty2"].returninfused = '0';
mappages["poverty2"].linkedMaps = [""];
mappages["poverty2"].editorLabels = '{}';
// MAP ENDS HERE

mappages["poverty2"].onload = function(mapref) {
  if ((gamestate.getMode() !== "loadgame") && (!DU.gameflags.getFlag("editor"))) {
    let npcs = mapref.npcs.getAll();
    if (!DU.gameflags.getFlag("anna_return")) { 
      let anna;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getNPCName() === "Anna") { anna = npcs[i]; }
      }
      if (anna) {
        mapref.deleteThing(anna);
        DUTime.removeEntityFrom(anna);
      }
    } else {
      let brooke;
      for (let i=0;i<npcs.length;i++) {
        if (npcs[i].getNPCName() === "Brooke") { brooke = npcs[i]; }
      }
      if (brooke) {
        brooke.setSchedule("brooke2");
        let loc = DU.schedules["brooke2"].getNPCLocationByTime(GetClockTime(), 1, 1, mapref, brooke);
        mapref.moveThing(loc.x,loc.y,brooke);
        let brooketile = mapref.getTile(loc.x,loc.y);
        brooketile.executeWalkons(brooke);
        brooke.startx = loc.x;
        brooke.starty = loc.y
      }
    }
  }
}
